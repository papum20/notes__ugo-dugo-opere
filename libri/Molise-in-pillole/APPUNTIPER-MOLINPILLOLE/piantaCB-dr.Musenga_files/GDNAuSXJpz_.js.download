if (self.CavalryLogger) { CavalryLogger.start_js(["fr4Z51j"]); }

__d("MAWGlobals",["WAGlobals","err"],(function(a,b,c,d,e,f,g){"use strict";var h=null;function a(a){h=a,d("WAGlobals").setGlobals(a)}function i(){if(h==null)throw c("err")("WaMsgr api called before set");return h}function b(){return i().myDeviceJid}function e(){return i().myUserJid}function f(){return i().db}function j(){return i().jobResultConverter}function k(){return i().product}function l(){return i().persistedJobs.api}function m(){return i().persistedJobs.manager}function n(a){return d("WAGlobals").isPeerDevice(a)}function o(){return i().jidUtils}g.setGlobals=a;g.getMyDeviceJid=b;g.getMyUserJid=e;g.getDbImpls=f;g.getJobResultConvertersImpls=j;g.getProduct=k;g.getPersistedJobsApi=l;g.getJobManager=m;g.isPeerDevice=n;g.getJidUtilsApi=o}),98);
__d("MAWHexUtils",["err"],(function(a,b,c,d,e,f,g){function a(a){a=a.toString(16);return(a.length-1).toString(16)+a}function b(a){for(var b=1;b<a.length;b++){var d=a.substring(0,b),e=a.substring(b);if(e.length-1===parseInt(d,16))return parseInt(e,16)}throw c("err")("Cannot convert the order-preserving-hex back to number")}g.orderPreservingHex=a;g.reverseOrderPreservingHex=b}),98);
__d("MAWJids",["WAJids"],(function(a,b,c,d,e,f,g){a=d("WAJids").createJidUtils({platform:"msgr"});b=a.toDeviceJid;c=a.toUserJid;e=a.toGroupJid;f=a.extractUserId;d=a.extractDeviceIDParts;var h=a.extractDeviceId,i=a.authorToUserId,j=a.authorAsUserJid,k=a.getUserDomain,l=a.getGroupDomain,m=a.getServerDomain,n=a.getGroupCallDomain,o=a.phoneNumberFromJid,p=a.interpretAsUserJid,q=a.userIdFromJid,r=a.extractUserJid,s=a.extractJidFromJidWithType,t=a.interpretAsGroupJid,u=a.switchOnChatJidType,v=a.defaultDeviceJidForUser,w=a.isPrimaryDevice,x=a.interpretAsDeviceId,y=a.interpretAsNumber,z=a.parseJidParts,A=a.fullFormDeviceJidString,B=a.extractFromJid,C=a.interpretAndValidateJid,D=a.unsafeCoerceToDeviceJid,E=a.unsafeCoerceToUserJid,F=a.unsafeCoerceToGroupJid,G=a.unsafeCoerceToDeviceId,H=a.groupIdFromJid;g.jidUtils=a;g.toDeviceJid=b;g.toUserJid=c;g.toGroupJid=e;g.extractUserId=f;g.extractDeviceIDParts=d;g.extractDeviceId=h;g.authorToUserId=i;g.authorAsUserJid=j;g.getUserDomain=k;g.getGroupDomain=l;g.getServerDomain=m;g.getGroupCallDomain=n;g.phoneNumberFromJid=o;g.interpretAsUserJid=p;g.userIdFromJid=q;g.extractUserJid=r;g.extractJidFromJidWithType=s;g.interpretAsGroupJid=t;g.switchOnChatJidType=u;g.defaultDeviceJidForUser=v;g.isPrimaryDevice=w;g.interpretAsDeviceId=x;g.interpretAsNumber=y;g.parseJidParts=z;g.fullFormDeviceJidString=A;g.extractFromJid=B;g.interpretAndValidateJid=C;g.unsafeCoerceToDeviceJid=D;g.unsafeCoerceToUserJid=E;g.unsafeCoerceToGroupJid=F;g.unsafeCoerceToDeviceId=G;g.groupIdFromJid=H}),98);
__d("MAWDbThread",["MAWHexUtils","MAWJids","WATimeUtils"],(function(a,b,c,d,e,f,g){function a(a,b){return d("MAWHexUtils").orderPreservingHex(a)+"_"+b}c=a(d("WATimeUtils").castToUnixTime(0),d("MAWJids").toUserJid("0"));function b(a){return a}g.craftThreadOrder=a;g.MIN_THREAD_ORDER=c;g.unsafeCoerceToChatId=b}),98);
__d("MAWMsgType",[],(function(a,b,c,d,e,f){a="Text";b="Futureproof";c="Ciphertext";d="Unavailable";e="Image";var g="Video",h="Ptt",i="Admin",j="Revoked",k="Gif",l="Sticker",m="ExpiredEphemeral",n="EphemeralSettingAdmin",o="EphemeralSyncResponse",p="EphemeralScreenshotAction",q="DeleteForMe",r="EphemeralSettingChangeFromCurrentDevice",s={TEXT:a,FUTUREPROOF:b,CIPHERTEXT:c,UNAVAILABLE:d,EXPIRED_EPHEMERAL:m,IMAGE:e,VIDEO:g,PTT:h,ADMIN:i,REVOKED:j,GIF:k,STICKER:l,EPHEMERAL_SETTING_ADMIN:n,EPHEMERAL_SYNC_RESPONSE:o,EPHEMERAL_SCREENSHOT_ACTION:p,DELETE_FOR_ME:q,EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:r},t=new Set([s.TEXT,s.IMAGE,s.VIDEO,s.PTT,s.GIF,s.STICKER,s.UNAVAILABLE,s.EXPIRED_EPHEMERAL]),u=function(a){return t.has(a)};f.TEXT=a;f.FUTUREPROOF=b;f.CIPHERTEXT=c;f.UNAVAILABLE=d;f.IMAGE=e;f.VIDEO=g;f.PTT=h;f.ADMIN=i;f.REVOKED=j;f.GIF=k;f.STICKER=l;f.EXPIRED_EPHEMERAL=m;f.EPHEMERAL_SETTING_ADMIN=n;f.EPHEMERAL_SYNC_RESPONSE=o;f.EPHEMERAL_SCREENSHOT_ACTION=p;f.DELETE_FOR_ME=q;f.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE=r;f.MSG_TYPE=s;f.isQuotedMsgType=u}),66);
__d("MAWDbMsg",["MAWDbThread","MAWHexUtils","MAWMsgType","OfflineThreadingId.re","WAAssertUnreachable"],(function(a,b,c,d,e,f,g){var h="futureproof",i="toBeRead",j="spam",k="futureproof_spam",l=void 0,m=6*60*60;function n(a,b){return d("MAWHexUtils").orderPreservingHex(a)+"_"+d("MAWHexUtils").orderPreservingHex(b)+"_m"}function a(a){var b=a.indexOf("_");if(b<=0)return!1;b=a.indexOf("_",b+2);return b!==a.length-2?!1:a.charAt(a.length-1)==="m"}function b(a){return a+"_"+i}function o(a){a=a.split("_");a=a[0];return d("MAWDbThread").unsafeCoerceToChatId(d("MAWHexUtils").reverseOrderPreservingHex(a))}function p(a){a=a.split("_");a[0];a=a[1];return d("MAWHexUtils").reverseOrderPreservingHex(a)}function e(a){return d("MAWHexUtils").orderPreservingHex(a)+"_"}function f(a){return d("MAWHexUtils").orderPreservingHex(a)+"_z"}function q(a){try{var b=o(a);a=p(a);return n(b,a+1)+"_o"}catch(a){return c("OfflineThreadingId.re").make()}}function r(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:return!0;case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:return!1;default:return c("WAAssertUnreachable")(a.type)}}function s(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:return!0;case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:return!1;default:return c("WAAssertUnreachable")(a.type)}}function t(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:return!0;case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:return!1;default:return c("WAAssertUnreachable")(a.type)}}function u(a){return v(a.type)}function v(a){return a==="EphemeralSyncResponse"||a==="EphemeralSettingChangeFromCurrentDevice"}function w(a){return a.serverTs!=null?a.serverTs:a.ts}function x(a){switch(a.type){case d("MAWMsgType").MSG_TYPE.TEXT:return a.msgContent;case d("MAWMsgType").MSG_TYPE.IMAGE:case d("MAWMsgType").MSG_TYPE.VIDEO:case d("MAWMsgType").MSG_TYPE.PTT:case d("MAWMsgType").MSG_TYPE.GIF:case d("MAWMsgType").MSG_TYPE.STICKER:case d("MAWMsgType").MSG_TYPE.REVOKED:case d("MAWMsgType").MSG_TYPE.DELETE_FOR_ME:case d("MAWMsgType").MSG_TYPE.FUTUREPROOF:case d("MAWMsgType").MSG_TYPE.CIPHERTEXT:case d("MAWMsgType").MSG_TYPE.UNAVAILABLE:case d("MAWMsgType").MSG_TYPE.ADMIN:case d("MAWMsgType").MSG_TYPE.EXPIRED_EPHEMERAL:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_ADMIN:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SYNC_RESPONSE:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SCREENSHOT_ACTION:case d("MAWMsgType").MSG_TYPE.EPHEMERAL_SETTING_CHANGE_FROM_CURRENT_DEVICE:return;default:return c("WAAssertUnreachable")(a.type)}}g.FUTUREPROOF_ALT_INDEX=h;g.TO_BE_READ_ALT_INDEX_SUFFIX=i;g.SPAM_ALT_INDEX=j;g.FUTUREPROOF_SPAM_ALT_INDEX=k;g.UNDEFINED_ALT_INDEX=l;g.REVOKE_CONTENT_EXPIRATION_IN_SEC=m;g.craftMsgId=n;g.isValidMsgId=a;g.craftToBeReadAltIndex=b;g.getThreadIdFromMsgId=o;g.getInChatMsgIdFromMsgId=p;g.msgIdsInChatLowerBound=e;g.msgIdsInChatUpperBound=f;g.getNextOptimisticId=q;g.isMediaMsg=r;g.isMediaReplyContent=s;g.isContentMsg=t;g.isUnrenderedMsg=u;g.isUnrenderedMsgType=v;g.getCanonicalTsFromMsg=w;g.getMsgContent=x}),98);
__d("MAWDbPendingReceipt",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return a+"_"+b+"_"+c}f.craftPendingReceiptId=a}),66);
__d("SignalDbTypes",[],(function(a,b,c,d,e,f){function a(a,b,c){return a+"_"+b+"_"+c}b={cat:"cat",deviceUUID:"deviceUUID",fbid:"fbid",deviceId:"deviceId",regId:"regId",identityKeyPair:"identityKeyPair",lastSignedPrekeyId:"lastSignedPrekeyId",lastPrekeyId:"lastPrekeyId",lastPrekeyGenerationId:"lastPrekeyGenerationId",edgeInfo:"edgeInfo",clockSkew:"clockSkew",abProps:"abProps"};c={msgrDeviceId:"msgrDeviceId"};f.buildSenderKeySessionId=a;f.MetaKeysEnum=b;f.DEPRECATED_MetaKeys=c}),66);
__d("EchoCommonUtils",[],(function(a,b,c,d,e,f){"use strict";c="Echo-Doc-Version";function a(a,b){var c=a.localKey;a=a.transportKey;return c+"@"+a+"-"+b}function b(a,b,c){return a==null?{localKey:b,transportKey:c}:{displayName:a,localKey:b,transportKey:c}}f.ECHO_COMMON_FIELD_DOCUMENT_VERSION=c;f.getEchoAddressFieldNameWithSuffix=a;f.craftEchoAddress=b}),66);
__d("EchoConstants",[],(function(a,b,c,d,e,f){"use strict";a=new Set(["\0","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x0e","\x0f","\x10","\x11","\x12","\x13","\x14","\x15","\x16","\x17","\x18","\x19","\x1a","\x1b","\x1c","\x1d","\x1e","\x1f",'"'," ","(",")",",",":",";","<",">","@","[","]","\\"]);f.ADDRESS_LOCAL_KEY_CHARS_NEED_QUOTE=a}),66);
__d("EchoDecodingUtils",["invariant","EchoConstants"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a,b){if(a.length===0)return;var c=a.indexOf(":");if(c===-1)return;var d=a.substring(0,c).trim();a=a.substring(c+1).trim();if(d.length===0)return;if(a.length===0){b.has(d)&&b["delete"](d);return}b.set(d,a)}function j(a,b,c){c===void 0&&(c=new Set());var d=!1,e=b==="conditional"&&a[0]==='"',f="",g=e?1:0;while(g<a.length){var h=a[g];if(b==="conditional"&&!e&&h==='"')break;if(!e&&c.has(h))break;if(e&&!d&&h==='"'){e=!1;g++;break}if(e&&!d&&h==="\\"){if(g===a.length-1)break;d=!0}else d&&h==="r"?f+="\r":d&&h==="n"?f+="\n":f+=h,d=!1;g++}return e||f.length===0?{success:!1,result:null,remainder:a}:{success:!0,result:f,remainder:a.substring(g)}}function k(a){if(a.length===0)return{success:!1,result:null,remainder:a};var b=a.trimLeft();b=j(b,"conditional",d("EchoConstants").ADDRESS_LOCAL_KEY_CHARS_NEED_QUOTE);if(!b.success)return{success:!1,result:null,remainder:a};b.result!=null||h(0,47923);if(b.remainder[0]==="@"){var c=l(b.remainder,b.result);return{success:c.success,result:c.result,remainder:c.remainder}}c=b.result;b=b.remainder.trimLeft();if(b.startsWith("<")){b=l(b.substring(1));var e=b.result,f=b.remainder;if(b.success&&e!=null&&f.startsWith(">"))if(c.length===0)return{success:!0,result:e,remainder:f.substring(1)};else return{success:!0,result:babelHelpers["extends"]({},e,{displayName:c}),remainder:f.substring(1)}}return{success:!1,result:null,remainder:a}}function l(a,b){var c=b==null?a.trimLeft():a;b=b;if(b==null){var e=j(c,"conditional",d("EchoConstants").ADDRESS_LOCAL_KEY_CHARS_NEED_QUOTE);if(!e.success)return{success:!1,result:null,remainder:a};b=e.result;c=e.remainder}if(b==null||b.length===0||c[0]!=="@")return{success:!1,result:null,remainder:a};e=j(c.substring(1),"never",d("EchoConstants").ADDRESS_LOCAL_KEY_CHARS_NEED_QUOTE);c=e.result;if(e.success&&c!=null&&c.length>0)return{success:!0,result:{localKey:b,transportKey:c},remainder:e.remainder};else return{success:!1,result:null,remainder:a}}function m(a){if(a.length===0)return{success:!1,result:null};a=k(a);if(!a.success)return{success:!1,result:null};a.result!=null||h(0,47927);var b=[a.result];a=a.remainder;while(a.startsWith(",")){var c=k(a.substring(1).trimLeft());if(c.success)c.result!=null&&b.push(c.result),a=c.remainder;else break}return{success:!0,result:b}}function a(a){var b=new Map(),c=a.split("\r\n");if(c.length==1&&c[0]===a)return b;c.forEach(function(a){return i(a,b)});return b}function b(a,b){a=a.get(b);if(a==null||a.length===0)return{success:!1,result:null};b=j(a,"conditional");a=b.success;b=b.result;return{success:a,result:b}}function c(a,b){a=n(a,b);return{success:a.success,result:(b=a.result)!=null?b:0}}function n(a,b){a=a.get(b);if(a==null||a.length===0)return{success:!1,result:null};b=parseInt(a,10);if(isNaN(b))return{success:!1,result:null};else return Number.isSafeInteger(b)?{success:!0,result:b}:{success:!0,result:b>Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:Number.MIN_SAFE_INTEGER}}function e(a,b){a=o(a,b);return{success:a.success,result:(b=a.result)!=null?b:!1}}function o(a,b){a=n(a,b);return!a.success||a.result!==0&&a.result!==1?{success:!1,result:null}:{success:!0,result:a.result===1}}function f(a,b){a=a.get(b);if(a==null||a.length===0)return{success:!1,result:null};b=k(a);a=b.success;b=b.result;return{success:a,result:b}}function p(a,b){a=a.get(b);return a==null||a.length===0?{success:!1,result:null}:m(a)}g.echoDecodeFields=a;g.echoDecodeStringField=b;g.echoDecodeIntField=c;g.echoDecodeNullableIntField=n;g.echoDecodeBooleanField=e;g.echoDecodeNullableBooleanField=o;g.echoDecodeAddressField=f;g.echoDecodeAddressListField=p}),98);
__d("EchoEncodingUtils",["invariant","EchoConstants"],(function(a,b,c,d,e,f,g,h){"use strict";var i=new Set(['"',"\\","\n","\r","\0"]),j=new Set(["\0","\x01","\x02","\x03","\x04","\x05","\x06","\x07","\b","\t","\n","\v","\f","\r","\x0e","\x0f","\x10","\x11","\x12","\x13","\x14","\x15","\x16","\x17","\x18","\x19","\x1a","\x1b","\x1c","\x1d","\x1e","\x1f",'"',"\\"]);function k(a,b){for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;if(a.indexOf(e)>=0)return!0}return!1}function l(a,b,c){c===void 0&&(c=new Set());a.length>0||h(0,47406);var d=b;b==="conditional"&&(k(a,c)?d="always":d="never");if(d==="never")return a;b='"';for(var c=0;c<a.length;c++){d=a[c];i.has(d)?(b+="\\",d==="\r"?b+="r":d==="\n"?b+="n":b+=d):b+=d}return b+'"'}function m(a){Number.isSafeInteger(a)||h(0,47496);return a.toString()}function n(a){var b="",c=a.displayName,e=a.localKey;a=a.transportKey;c!=null&&c.length>0&&(b+=l(c,"always")+" <");b+=l(e,"conditional",d("EchoConstants").ADDRESS_LOCAL_KEY_CHARS_NEED_QUOTE)+"@"+a;c!=null&&c.length>0&&(b+=">");return b}function o(a,b,c){c!=null&&c.length!==0&&a.set(b,l(c,"conditional",j))}function a(a,b,c){if(c!=null){c=m(c);o(a,b,c)}}function b(a,b,c){if(c!=null){c=m(c?1:0);o(a,b,c)}}function c(a,b,c){c!=null&&a.set(b,n(c))}function e(a,b,c){if(c!=null){var d="";c.forEach(function(a,b){d+=n(a),b<c.length-1&&(d+=", ")});a.set(b,d)}}function f(a){var b="";a.forEach(function(a,c){b=b+c+": "+a+"\r\n"});return b}g.echoSetStringField=o;g.echoSetIntField=a;g.echoSetBooleanField=b;g.echoSetAddressField=c;g.echoSetAddressListField=e;g.echoEncodeFields=f}),98);
__d("EchoMessage",["invariant","$InternalEnum","EchoCommonUtils","EchoDecodingUtils","EchoEncodingUtils","FBLogger"],(function(a,b,c,d,e,f,g,h){"use strict";var i="Message-ID",j="Thread-ID",k="Sort-Order",l="Display-Timestamp",m="Authoritative-Timestamp",n="From",o="Attachment-IDs",p="Text",q="Text-Size",r="Send-Error",s="Is-Tombstoned",t="Expire-Timestamp",u="Delete-Timestamp",v="Ephemeral-Duration",w="Message-Content-Type",x="Message-Content-Subtype",y="Receipt-Status",z="Receipt-Timestamp",A="Is-Forwarded",B="X-Offline-Threading-ID",C="X-Thread-ID",D="Attachment-Type",E="X-Object-Id",F="X-Plaintext-Hash",G="X-Encrypted-Hash",H="X-Media-Key",I="X-Media-Key-Timestamp",J="X-Direct-Path",K="Content-Type",L="Height",M="Width",N="Preview-Content-Type",O="Preview-Height",P="Preview-Width",Q="Playable-Duration",R="Size",S=0,T=(f=b("$InternalEnum"))({NONE:"none",SMALL:"small",MEDIUM:"medium",LARGE:"large"}),U=f({NONE:"none",UNSEND:"unsend"}),V=f({IMAGE:"image",STICKER:"sticker",VIDEO:"video",GIF:"animated_image",PTT:"audio"}),W=f({UNKNOWN:"unknown",SENDING:"sending",SERVER_RECEIVED:"server_received",DELIVERED:"delivered",READ:"read",ERROR:"error",NON_RETRYABLE_ERROR:"non_retryable_error"}),X=f({DECRYPTION_FAILURE:"decryption_failure",UNSUPPORTED_NEEDS_UPDATE:"unsupported_needs_update",TEXT:"text",ADMIN_MESSAGE:"admin_message",MEDIA:"media",XMA:"xma",NULL_STATE:"null_state",PLACEHOLDER:"placeholder"}),Y=f({IMAGE:"image/jpeg"});function Z(a){a=T.cast(a);return(a=a)!=null?a:T.NONE}function $(a){a=X.cast(a);return(a=a)!=null?a:X.TEXT}function aa(a){a=U.cast(a);return(a=a)!=null?a:U.NONE}function ba(a,b){d("EchoEncodingUtils").echoSetStringField(a,i,b.messageId),d("EchoEncodingUtils").echoSetStringField(a,j,b.threadId),d("EchoEncodingUtils").echoSetIntField(a,k,b.sortOrderMs),d("EchoEncodingUtils").echoSetIntField(a,l,b.displayTimestampMs),d("EchoEncodingUtils").echoSetIntField(a,m,b.authoritativeTimestampMs),d("EchoEncodingUtils").echoSetAddressField(a,n,b.from),d("EchoEncodingUtils").echoSetAddressListField(a,o,b.attachmentIds),d("EchoEncodingUtils").echoSetStringField(a,p,b.text),b.textSize!=null&&d("EchoEncodingUtils").echoSetStringField(a,q,b.textSize),d("EchoEncodingUtils").echoSetStringField(a,r,b.sendError),d("EchoEncodingUtils").echoSetBooleanField(a,s,b.isTombstoned),d("EchoEncodingUtils").echoSetIntField(a,t,b.expireTimestampMs),d("EchoEncodingUtils").echoSetIntField(a,u,b.deleteTimestampMs),d("EchoEncodingUtils").echoSetIntField(a,v,b.ephemeralDurationInSec),b.contentType!=null&&d("EchoEncodingUtils").echoSetStringField(a,w,b.contentType),ca(a,b.receiptStatusList),d("EchoEncodingUtils").echoSetBooleanField(a,A,b.isForwarded),d("EchoEncodingUtils").echoSetStringField(a,B,b.xOfflineThreadingId),d("EchoEncodingUtils").echoSetStringField(a,C,b.xThreadId),d("EchoEncodingUtils").echoSetIntField(a,d("EchoCommonUtils").ECHO_COMMON_FIELD_DOCUMENT_VERSION,b.version),b.contentSubtype!=null&&d("EchoEncodingUtils").echoSetStringField(a,x,b.contentSubtype)}function ca(a,b){if(b==null||b.length===0)return;b.forEach(function(b){d("EchoEncodingUtils").echoSetStringField(a,d("EchoCommonUtils").getEchoAddressFieldNameWithSuffix(b.address,y),b.status),b.timestampMs!=null&&d("EchoEncodingUtils").echoSetIntField(a,d("EchoCommonUtils").getEchoAddressFieldNameWithSuffix(b.address,z),b.timestampMs)})}function da(a,b){var c=[];b.forEach(function(b){var e=d("EchoCommonUtils").getEchoAddressFieldNameWithSuffix(b,y);e=d("EchoDecodingUtils").echoDecodeStringField(a,e);if(e.success){e=(e=W.cast(e.result))!=null?e:W.UNKNOWN;var f=d("EchoCommonUtils").getEchoAddressFieldNameWithSuffix(b,z);f=d("EchoDecodingUtils").echoDecodeNullableIntField(a,f);f.result!=null?c.push({address:b,status:e,timestampMs:f.result}):c.push({address:b,status:e})}});return c}function a(a){var b=new Map();ba(b,a);return d("EchoEncodingUtils").echoEncodeFields(b)}function e(a,b){a=d("EchoDecodingUtils").echoDecodeFields(a);if(a.size===0)return null;var e=d("EchoDecodingUtils").echoDecodeStringField(a,i),f=d("EchoDecodingUtils").echoDecodeStringField(a,j),g=d("EchoDecodingUtils").echoDecodeIntField(a,k),y=d("EchoDecodingUtils").echoDecodeIntField(a,l),z=d("EchoDecodingUtils").echoDecodeStringField(a,w),D=d("EchoDecodingUtils").echoDecodeStringField(a,x);if(e.success&&f.success&&g.success&&y.success){e.result!=null||h(0,47883);f.result!=null||h(0,47884);z.result!=null||h(0,53903);e={messageId:e.result,threadId:f.result,sortOrderMs:g.result,displayTimestampMs:y.result,contentType:$(z.result),contentSubtype:aa(D.result)};f=d("EchoDecodingUtils").echoDecodeAddressField(a,n);f.success&&f.result!=null&&(e.from=f.result);g=d("EchoDecodingUtils").echoDecodeNullableBooleanField(a,s);g.success&&g.result!=null&&(e.isTombstoned=g.result);y=d("EchoDecodingUtils").echoDecodeAddressListField(a,o);y.success&&y.result!=null&&(e.attachmentIds=y.result);z=d("EchoDecodingUtils").echoDecodeStringField(a,p);z.success&&z.result!=null&&(e.text=z.result);D=d("EchoDecodingUtils").echoDecodeStringField(a,q);if(D.success&&D.result!=null){f=Z(D.result);e.textSize=f}g=d("EchoDecodingUtils").echoDecodeStringField(a,r);g.success&&g.result!=null&&(e.sendError=g.result);y=d("EchoDecodingUtils").echoDecodeNullableIntField(a,t);y.success&&y.result!=null&&(e.expireTimestampMs=y.result);z=d("EchoDecodingUtils").echoDecodeNullableIntField(a,u);z.success&&z.result!=null&&(e.deleteTimestampMs=z.result);D=d("EchoDecodingUtils").echoDecodeNullableIntField(a,v);D.success&&D.result!=null&&(e.ephemeralDurationInSec=D.result);f=d("EchoDecodingUtils").echoDecodeNullableIntField(a,m);f.success&&f.result!=null&&(e.authoritativeTimestampMs=f.result);g=da(a,b);g.length>0&&(e.receiptStatusList=g);y=d("EchoDecodingUtils").echoDecodeNullableBooleanField(a,A);y.success&&y.result!=null&&(e.isForwarded=y.result);z=d("EchoDecodingUtils").echoDecodeStringField(a,B);z.success&&z.result!=null&&(e.xOfflineThreadingId=z.result);D=d("EchoDecodingUtils").echoDecodeStringField(a,C);D.success&&D.result!=null&&(e.xThreadId=D.result);f=d("EchoDecodingUtils").echoDecodeNullableIntField(a,d("EchoCommonUtils").ECHO_COMMON_FIELD_DOCUMENT_VERSION);e.version=f.success&&f.result!=null?f.result:S;if(e.contentType!=null&&e.contentType===X.MEDIA){b=ea(a);b!=null?e.mediaData=b:c("FBLogger")("labyrinth_web").mustfix("mandatory media data is missing from media message")}return e}else return null}function ea(a){var b={},c=fa(a,b),d=ga(a,b);a=ha(a,b);if(!c||!d||!a)return null;b;return b}function fa(a,b){var c=d("EchoDecodingUtils").echoDecodeStringField(a,D);c=V.cast(c.result);a=d("EchoDecodingUtils").echoDecodeStringField(a,N);a=Y.cast(a.result);if(c!=null&&a!=null){b.attachmentType=c;b.previewContentType=a;return!0}return!1}function ga(a,b){var c=[{fieldName:"hashedPlaintextHash",id:G},{fieldName:"mediaKey",id:H},{fieldName:"attachmentObjectId",id:E},{fieldName:"plaintextHash",id:F},{fieldName:"directPath",id:J},{fieldName:"mediaContentType",id:K}];for(var e=0;e<c.length;e++){var f=c[e],g=f.fieldName;f=f.id;f=d("EchoDecodingUtils").echoDecodeStringField(a,f);var h=f.success;f=f.result;if(h&&f!=null)b[g]=f;else return!1}return!0}function ha(a,b){var c=[{fieldName:"height",id:L},{fieldName:"width",id:M},{fieldName:"mediaKeyTimestamp",id:I},{fieldName:"previewContentHeight",id:O},{fieldName:"previewContentWidth",id:P},{fieldName:"mediaPlayableDuration",id:Q},{fieldName:"size",id:R}];for(var e=0;e<c.length;e++){var f=c[e],g=f.fieldName;f=f.id;f=d("EchoDecodingUtils").echoDecodeIntField(a,f);var h=f.success;f=f.result;if(h&&f!=null)b[g]=f;else return!1}return!0}g.ECHO_MESSAGE_MIGRATION_DOCUMENT_VERSION=S;g.MessageTextSize=T;g.EchoMessageContentSubtype=U;g.AttachmentType=V;g.MessageReceiptStatus=W;g.EchoMessageContentType=X;g.EchoMessageMediaPreviewType=Y;g.encodeEchoMessage=a;g.decodeEchoMessage=e}),98);
__d("MAWDexieTable",["Promise","dexie_alpha"],(function(a,b,c,d,e,f,g){function h(a){return b("Promise").resolve(a)}function a(a){return c("dexie_alpha").Promise.all(a)}f=function(){function a(a,b,d){d===void 0&&(d=!0);var e=new(c("dexie_alpha"))(a);b(e);this.name=a;this.stores=e;d&&this.open()}var b=a.prototype;b.open=function(){this.stores.open()};b.close=function(){this.stores.close()};b.transact=function(a,b,c){var d=this;return h(this.stores.transaction(a,b.map(function(a){return d.stores[a]}),function(){return c()}))};return a}();function d(a){return c("dexie_alpha").Promise.resolve(a)}function e(a){return c("dexie_alpha").waitFor(a)}g.undexify=h;g.dexieAll=a;g.DexieTable=f;g.dexieResolve=d;g.dexieExpensiveAwait=e}),98);
__d("MAWDbContactsTxns",["MAWDexieTable"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return a.contacts.where("contactJid").anyOf(b).toArray()}function b(a,b){return a.contacts.get({contactJid:b})}function c(a,b){return b==null?d("MAWDexieTable").dexieResolve():a.contacts.get({contactJid:b}).then(function(a){return a==null?null:a.nameForSearch})}g.getContacts=a;g.getContact=b;g.maybeGetContactName=c}),98);
__d("MAWCryptoConsts",["WATimeUtils"],(function(a,b,c,d,e,f,g){a=32;b=new Uint8Array(0).buffer;c=128;e=256;f=12;var h=1,i=2,j=2;d=d("WATimeUtils").DAY_SECONDS*30*6;var k=3,l="AES-GCM",m="HKDF",n="SHA-256";g.HKDF_SEED_LENGTH_IN_BYTES=a;g.HKDF_INFO=b;g.AES_GCM_TAG_LENGTH=c;g.AES_GCM_KEY_LENGTH=e;g.AES_GCM_IV_LENGTH_IN_BYTES=f;g.VERSION=h;g.CIPHER_ID=i;g.ADDITIONAL_DATA_LENGTH_IN_BYTES=j;g.ENC_KEY_TTL=d;g.MAX_KEYCHAIN_SETUP_RETRIES=k;g.AES_GCM=l;g.HKDF=m;g.SHA256=n}),98);
__d("MAWKeychainUtil",[],(function(a,b,c,d,e,f){function a(a){return self.crypto.getRandomValues(new Uint8Array(a))}function b(a){var b=a.reduce(function(a,b){return a+b.byteLength},0),c=new Uint8Array(b);a.reduce(function(a,b){c.set(new Uint8Array(b),a);return a+b.byteLength},0);return c.buffer}function c(a,b){return new Uint8Array([a,b]).buffer}function d(a){var b=a.length;if(b>0&&b%2===0&&/^[\da-f]+$/gi.test(a)){var c=[];for(var d=0,b=b/2;d<b;++d){var e=parseInt(a.substring(d*2,d*2+2),16);c.push(e)}return new Uint8Array(c)}else return null}f.getBufferWithRandomValuesFromLength=a;f.mergeBuffers=b;f.makeAAD=c;f.fromHexString=d}),66);
__d("MAWSubtleCrypto",[],(function(a,b,c,d,e,f){a=self.crypto;b=a&&(a.subtle||a.webkitSubtle||a.subtle);f.MAWSubtleCrypto=b}),66);
__d("MAWKeychainCrypto",["MAWCryptoConsts","MAWKeychainUtil","MAWSubtleCrypto","MessengerWebInitData","WABase64","err"],(function(a,b,c,d,e,f,g){var h=d("MAWKeychainUtil").makeAAD(d("MAWCryptoConsts").VERSION,d("MAWCryptoConsts").CIPHER_ID);function a(a,b,c){var e=d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").AES_GCM_IV_LENGTH_IN_BYTES),f=c?c:h;return d("MAWSubtleCrypto").MAWSubtleCrypto.encrypt({name:d("MAWCryptoConsts").AES_GCM,iv:new Uint8Array(e),additionalData:f,tagLength:d("MAWCryptoConsts").AES_GCM_TAG_LENGTH},a,b).then(function(a){a=d("MAWKeychainUtil").mergeBuffers([f,e,a]);a=d("WABase64").encodeB64(a);return a})}function b(a,b){b=new Uint8Array(d("WABase64").decodeB64(b));var c=b.subarray(0,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES),e=b.subarray(d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES,d("MAWCryptoConsts").AES_GCM_IV_LENGTH_IN_BYTES+d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES);b=b.subarray(d("MAWCryptoConsts").AES_GCM_IV_LENGTH_IN_BYTES+d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES);return d("MAWSubtleCrypto").MAWSubtleCrypto.decrypt({name:d("MAWCryptoConsts").AES_GCM,iv:e,additionalData:c,tagLength:d("MAWCryptoConsts").AES_GCM_TAG_LENGTH},a,b)}function e(){var a=d("MAWKeychainUtil").fromHexString(c("MessengerWebInitData").accountKey);if(a==null)throw c("err")("Invalid value for account key");return d("MAWSubtleCrypto").MAWSubtleCrypto.importKey("raw",a.buffer,{name:d("MAWCryptoConsts").AES_GCM},!1,["encrypt","decrypt"])}function f(){return d("WABase64").encodeB64(d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").HKDF_SEED_LENGTH_IN_BYTES))}function i(a){a=d("WABase64").decodeB64(a);return d("MAWSubtleCrypto").MAWSubtleCrypto.importKey("raw",a,{name:d("MAWCryptoConsts").HKDF},!1,["deriveKey"])}function j(){var a=d("MAWKeychainUtil").getBufferWithRandomValuesFromLength(d("MAWCryptoConsts").HKDF_SEED_LENGTH_IN_BYTES);return a}function k(a,b){return d("MAWSubtleCrypto").MAWSubtleCrypto.deriveKey({name:d("MAWCryptoConsts").HKDF,salt:b,info:d("MAWCryptoConsts").HKDF_INFO,hash:{name:d("MAWCryptoConsts").SHA256}},a,{name:d("MAWCryptoConsts").AES_GCM,length:d("MAWCryptoConsts").AES_GCM_KEY_LENGTH},!0,["encrypt","decrypt"]).then(function(a){return d("MAWSubtleCrypto").MAWSubtleCrypto.exportKey("raw",a)})}function l(a){a=d("WABase64").decodeB64(a).slice(0,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES);return new DataView(a).getUint8(0)}g.ADDITIONAL_DATA=h;g.encryptDataToStringBuffer=a;g.decryptDataToArrayBuffer=b;g.genAccountKey=e;g.genBrowserEncryptionKeyString=f;g.importBrowserEncryptionKey=i;g.genDatabaseEncryptionSeed=j;g.genDatabaseEncryptionKey=k;g.getKeyVersionFromCipherDataString=l}),98);
__d("MAWKeychainNaClCrypto",["MAWCryptoConsts","MAWKeychainCrypto","WABase64","err","tweetnacl.dist"],(function(a,b,c,d,e,f,g){function h(a,b,c){c=c?c:d("MAWKeychainCrypto").ADDITIONAL_DATA;c=new Uint8Array(c);var e=d("tweetnacl.dist").randomBytes(d("tweetnacl.dist").secretbox.nonceLength);b=d("tweetnacl.dist").secretbox(b,e,new Uint8Array(a));a=new Uint8Array(d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES+e.length+b.length);a.set(c);a.set(e,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES);a.set(b,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES+e.length);return d("WABase64").encodeB64(a)}function i(a,b,e){var f=d("WABase64").decodeB64(b);f.slice(0,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES);var g=f.slice(d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES+d("tweetnacl.dist").secretbox.nonceLength);f=f.slice(d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES+d("tweetnacl.dist").secretbox.nonceLength,d("MAWCryptoConsts").ADDITIONAL_DATA_LENGTH_IN_BYTES+d("tweetnacl.dist").secretbox.nonceLength+b.length);b=d("tweetnacl.dist").secretbox.open(new Uint8Array(f),new Uint8Array(g),new Uint8Array(a));if(b==null){throw c("err")("Encrypted dexie was unable to decrypt an entity. Attempting to use key version : "+((f=e)!=null?f:"non-provided")+".")}return b}function a(a,b,c){return h(a,b,c)}function b(a,b,c){a=i(a,b,c);return a}g.encryptTweetNaCl=h;g.decryptTweetNaCl=i;g.encrypt=a;g.decrypt=b}),98);
__d("MAWVaultMaterials",["WALogger","err","randomInt","tweetnacl.dist"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Set vault materials in frontend scope using worker"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Set vault materials in worker scope"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);l=function(){return a};return a}var m={encryptionKey:null,prefixAndSuffix:null};function n(a){m.prefixAndSuffix=a}function o(){return m.encryptionKey}function p(a){m.encryptionKey=a}function q(){return s()!=null&&o()!=null}function r(){var a=1e9,b=9999999999;return c("randomInt")(a,b)+"##"+c("randomInt")(a,b)}function s(){return m.prefixAndSuffix}function a(){if(!q()){var a="Vault materials are null";d("WALogger").ERROR(l(),a);throw new(c("err"))(a)}return babelHelpers["extends"]({},m)}function b(){return{encryptionKey:d("tweetnacl.dist").randomBytes(32).buffer,prefixAndSuffix:r()}}function t(a){var b=a.encryptionKey;a=a.prefixAndSuffix;if(b==null||a==null){var e="Cannot set null values for encryption key and prefix";d("WALogger").ERROR(k(),e);throw new(c("err"))(e)}p(b);n(a)}function e(a){if(q()){var b="Cannot set vault encryption key twice";d("WALogger").ERROR(j(),b);throw new(c("err"))(b)}t(a);d("WALogger").LOG(i())}function f(a){t(a),d("WALogger").LOG(h())}function u(){m.encryptionKey=null,m.prefixAndSuffix=null}function v(a){m.encryptionKey=a.encryptionKey,m.prefixAndSuffix=a.prefixAndSuffix}function w(){return m}g.hasVaultBeenSetup=q;g.getVaultPrefixAndSuffix=s;g.getVaultMaterials=a;g.createVaultMaterials=b;g.setVaultMaterialsForWorkerScope=e;g.setVaultMaterialsForFrontendThroughWorker=f;g.clearVaultMaterialsForTesting=u;g.setVaultMaterialsForTesting=v;g.getVaultMaterialsForTesting=w}),98);
__d("MAWVault",["MAWGating.re","MAWKeychainNaClCrypto","MAWVaultMaterials","WALogger","err"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Attempted to vault value that's already been vaulted"]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);k=function(){return a};return a}function l(){var a=babelHelpers.taggedTemplateLiteralLoose(["",""]);l=function(){return a};return a}function m(a){if(!d("MAWGating.re").isVaultingEnabled())return!1;var b=d("MAWVaultMaterials").getVaultPrefixAndSuffix();if(b==null)return!1;b=new RegExp(b+".*"+b);return b.test(a)}function n(a){if(!d("MAWGating.re").isVaultingEnabled())return a;if(m(a)){var b=d("MAWVaultMaterials").getVaultMaterials(),e=b.encryptionKey;b=b.prefixAndSuffix;if(b==null){var f="Vault prefix and suffix should not be null when unvaulting";d("WALogger").ERROR(l(),f);throw c("err")(f)}f=new RegExp(b+"(.*)"+b);b=a.match(f);if(b==null||b.length!=2){var g="Could not retrieve inner value to unvault";d("WALogger").ERROR(k(),g);throw c("err")(g)}if(e==null){g="Vault encryption key was null before unvault";d("WALogger").ERROR(j(),g);throw c("err")(g)}g=p(e,b[1]);e=a.replace(f,g);return e}return a}function a(a){if(!d("MAWGating.re").isVaultingEnabled()||!d("MAWVaultMaterials").hasVaultBeenSetup())return a;if(m(a)){d("WALogger").ERROR(i());return a}var b=d("MAWVaultMaterials").getVaultMaterials(),e=b.encryptionKey;b=b.prefixAndSuffix;if(b==null||e==null){var f="Cannot vault before vault materials are set";d("WALogger").ERROR(h(),f);throw c("err")(f)}return""+b+o(e,a)+b}function b(a){if(!m(a))throw c("err")("Value should be vaulted");return n(a)}function o(a,b){b=new TextEncoder().encode(b).buffer;return d("MAWKeychainNaClCrypto").encryptTweetNaCl(a,new Uint8Array(b))}function p(a,b){a=d("MAWKeychainNaClCrypto").decryptTweetNaCl(a,b);b=new TextDecoder().decode(a);return b}g.isVaulted=m;g.unvault=n;g.vault=a;g.unvaultOrThrow=b}),98);
__d("MAWUploadMessageTxns",["EchoCommonUtils","EchoMessage","MAWDbContactsTxns","MAWDbMsg","MAWDexieTable","MAWJids","MAWMsgType","MAWVault","WAGlobals","err"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return a.threads.get(b).then(function(a){if(a==null)throw new(c("err"))("constructEchoMessage: thread not present");return a.jid})}function i(a,b,c){return a.receipts.get(b.msgId).then(function(e){var f=[];e!=null&&e.statusTsPerUser.forEach(function(e,g){f.push(d("MAWDbContactsTxns").maybeGetContactName(a,g).then(function(a){var f=d("EchoMessage").MessageReceiptStatus.UNKNOWN,h;g==c?(f=d("EchoMessage").MessageReceiptStatus.READ,h=b.ts):e.readTs!=null?(f=d("EchoMessage").MessageReceiptStatus.READ,h=e.readTs):e.deliveredTs!=null&&(f=d("EchoMessage").MessageReceiptStatus.DELIVERED,h=e.deliveredTs);a={address:d("EchoCommonUtils").craftEchoAddress(a,d("MAWJids").userIdFromJid(g),"AdvancedCrypto"),status:f};h!=null&&(a.timestampMs=h*1e3);return a}))});return d("MAWDexieTable").dexieAll(f)})}function a(a,b){if(b.type!==d("MAWMsgType").MSG_TYPE.TEXT)throw new(c("err"))('constructEchoMessage: "'+String(b.type)+'" NYI');var e=h(a,b.thread),f=d("MAWJids").authorToUserId(b.author,d("MAWJids").userIdFromJid(d("WAGlobals").getMyUserJid())),g=d("MAWJids").toUserJid(f),j=d("MAWDbContactsTxns").maybeGetContactName(a,g);a=i(a,b,g);return d("MAWDexieTable").dexieAll([e,j,a]).then(function(a){var c=a[0],e=a[1];a=a[2];c=d("MAWJids").switchOnChatJidType(c,{group:function(a){return d("MAWJids").groupIdFromJid(a)},user:function(a){return d("MAWJids").userIdFromJid(a)}});var g=b.serverTs;g={messageId:b.externalId,threadId:c,sortOrderMs:d("MAWDbMsg").getInChatMsgIdFromMsgId(b.msgId),displayTimestampMs:b.ts*1e3,authoritativeTimestampMs:g!=null?g*1e3:void 0,from:d("EchoCommonUtils").craftEchoAddress(e,f,"AdvancedCrypto"),text:d("MAWVault").unvault(b.msgContent.content),textSize:d("EchoMessage").MessageTextSize.NONE,contentType:d("EchoMessage").EchoMessageContentType.TEXT,receiptStatusList:a,isForwarded:b.isForwarded,xOfflineThreadingId:b.externalId,xThreadId:c,version:d("EchoMessage").ECHO_MESSAGE_MIGRATION_DOCUMENT_VERSION,contentSubtype:d("EchoMessage").EchoMessageContentSubtype.NONE};return g})}g.constructEchoMessage=a}),98);
__d("EchoThread",["invariant","$InternalEnum","EchoCommonUtils","EchoDecodingUtils","EchoEncodingUtils"],(function(a,b,c,d,e,f,g,h){"use strict";var i="Thread-ID",j="Display-Name",k="Display-Image-URL",l="Sort-Order",m="Display-Timestamp",n="Is-Group-Thread",o="Needs-Admin-Approval-For-New-Participant",p="Custom-Emoji",q="Mute-Expiration-Timestamp",r="Folder-Type",s="Ephemeral-Options-Duration",t="Ephemeral-Options-Last-Updated",u="Participants",v="Admin-Type",w="X-Thread-Type",x="X-Thread-ID",y=0,z=b("$InternalEnum")({INBOX:0,PENDING:1,OTHER:2,SPAM:3,ARCHIVED:4,HIDDEN:5}),A=b("$InternalEnum")({NONE:"none",ADMIN:"admin",SUPER_ADMIN:"super_admin"}),B=b("$InternalEnum")({UNKNOWN:0,ONE_TO_ONE:1,GROUP_THREAD:2,ROOM:3,MONTAGE:4,MARKETPLACE:5,FOLDER:6,ENCRYPTED_ONE_TO_ONE:7,ENCRYPTED_GROUP_DISAPPEARING:8,CARRIER_MESSAGING_ONE_TO_ONE:10,CARRIER_MESSAGING_GROUP:11,ENCRYPTED_ONE_TO_ONE_DISAPPEARING:13,ENCRYPTED_OVER_WA_ONE_TO_ONE:15,ENCRYPTED_OVER_WA_GROUP:16,COMMUNITY_GROUP:18});function C(a){a=z.cast(a);return(a=a)!=null?a:z.OTHER}function D(a){a=B.cast(a);return(a=a)!=null?a:B.UNKNOWN}function E(a,b){d("EchoEncodingUtils").echoSetStringField(a,i,b.threadId),d("EchoEncodingUtils").echoSetStringField(a,j,b.displayName),d("EchoEncodingUtils").echoSetStringField(a,k,b.displayImageUrl),d("EchoEncodingUtils").echoSetIntField(a,l,b.sortOrder),d("EchoEncodingUtils").echoSetIntField(a,m,b.displayTimestamp),d("EchoEncodingUtils").echoSetBooleanField(a,n,b.isGroupThread),d("EchoEncodingUtils").echoSetBooleanField(a,o,b.needsAdminApprovalForNewParticipant),d("EchoEncodingUtils").echoSetStringField(a,p,b.customEmoji),d("EchoEncodingUtils").echoSetIntField(a,q,b.muteExpirationTimestamp),d("EchoEncodingUtils").echoSetIntField(a,r,b.folderType),d("EchoEncodingUtils").echoSetIntField(a,s,b.ephemeralOptionsDurationInSec),d("EchoEncodingUtils").echoSetIntField(a,t,b.ephemeralOptionsLastUpdatedAuthoritativeTimestamp),d("EchoEncodingUtils").echoSetAddressListField(a,u,b.participantsList),F(a,b.adminList),b.xThreadType!=null&&d("EchoEncodingUtils").echoSetIntField(a,w,b.xThreadType),d("EchoEncodingUtils").echoSetStringField(a,x,b.xThreadId),d("EchoEncodingUtils").echoSetIntField(a,d("EchoCommonUtils").ECHO_COMMON_FIELD_DOCUMENT_VERSION,b.version)}function F(a,b){if(b==null||b.length===0)return;b.forEach(function(b){var c=b.adminType;c!==A.NONE&&d("EchoEncodingUtils").echoSetStringField(a,d("EchoCommonUtils").getEchoAddressFieldNameWithSuffix(b.address,v),c)})}function G(a,b){var c=[];b.forEach(function(b){var e=d("EchoCommonUtils").getEchoAddressFieldNameWithSuffix(b,v);e=d("EchoDecodingUtils").echoDecodeStringField(a,e);if(e.success){e=(e=A.cast(e.result))!=null?e:A.NONE;c.push({address:b,adminType:e})}});return c}function a(a){var b=new Map();E(b,a);return d("EchoEncodingUtils").echoEncodeFields(b)}function c(a){a=d("EchoDecodingUtils").echoDecodeFields(a);if(a.size===0)return null;var b=d("EchoDecodingUtils").echoDecodeStringField(a,i),c=d("EchoDecodingUtils").echoDecodeIntField(a,l),e=d("EchoDecodingUtils").echoDecodeIntField(a,r),f=d("EchoDecodingUtils").echoDecodeAddressListField(a,u),g=d("EchoDecodingUtils").echoDecodeBooleanField(a,n),v=d("EchoDecodingUtils").echoDecodeIntField(a,m);if(b.success&&c.success&&e.success&&f.success&&g.success&&v.success){b.result!=null||h(0,47884);f=f.result;f!=null||h(0,47911);b={threadId:b.result,sortOrder:c.result,displayTimestamp:v.result,isGroupThread:g.result,folderType:C(e.result),participantsList:f};c=d("EchoDecodingUtils").echoDecodeStringField(a,j);c.success&&c.result!=null&&(b.displayName=c.result);v=d("EchoDecodingUtils").echoDecodeStringField(a,k);v.success&&v.result!=null&&(b.displayImageUrl=v.result);g=d("EchoDecodingUtils").echoDecodeNullableBooleanField(a,o);g.success&&g.result!=null&&(b.needsAdminApprovalForNewParticipant=g.result);e=d("EchoDecodingUtils").echoDecodeStringField(a,p);e.success&&e.result!=null&&(b.customEmoji=e.result);c=d("EchoDecodingUtils").echoDecodeNullableIntField(a,q);c.success&&c.result!=null&&(b.muteExpirationTimestamp=c.result);v=d("EchoDecodingUtils").echoDecodeNullableIntField(a,s);v.success&&v.result!=null&&(b.ephemeralOptionsDurationInSec=v.result);g=d("EchoDecodingUtils").echoDecodeNullableIntField(a,t);g.success&&g.result!=null&&(b.ephemeralOptionsLastUpdatedAuthoritativeTimestamp=g.result);e=G(a,f);e.length>0&&(b.adminList=e);c=d("EchoDecodingUtils").echoDecodeIntField(a,w);c.success&&c.result!=null&&(b.xThreadType=D(c.result));v=d("EchoDecodingUtils").echoDecodeStringField(a,x);v.success&&v.result!=null&&(b.xThreadId=v.result);g=d("EchoDecodingUtils").echoDecodeNullableIntField(a,d("EchoCommonUtils").ECHO_COMMON_FIELD_DOCUMENT_VERSION);b.version=g.success&&g.result!=null?g.result:y;return b}else return null}g.ECHO_THREAD_MIGRATION_DOCUMENT_VERSION=y;g.FolderType=z;g.AdminType=A;g.XThreadType=B;g.encodeEchoThread=a;g.decodeEchoThread=c}),98);
__d("MAWFolderTypes",[],(function(a,b,c,d,e,f){"use strict";a=0;b=1;c=2;d=10;e={INBOX:a,PENDING:b,OTHER:c,ARCHIVED:d};f.INBOX=a;f.PENDING=b;f.OTHER=c;f.ARCHIVED=d;f.FOLDER_ID=e}),66);
__d("MAWUploadThreadTxns",["EchoCommonUtils","EchoThread","MAWDbContactsTxns","MAWDexieTable","MAWFolderTypes","MAWJids"],(function(a,b,c,d,e,f,g){"use strict";function h(a){switch(a){case d("MAWFolderTypes").FOLDER_ID.INBOX:return d("EchoThread").FolderType.INBOX;case d("MAWFolderTypes").FOLDER_ID.PENDING:return d("EchoThread").FolderType.PENDING;case d("MAWFolderTypes").FOLDER_ID.ARCHIVED:return d("EchoThread").FolderType.ARCHIVED;default:return d("EchoThread").FolderType.INBOX}}function a(a){return h(a).toString()}function i(a,b){return a.participants.where("threadId").equals(b).toArray().then(function(b){return d("MAWDexieTable").dexieAll(b.map(function(b){return d("MAWDbContactsTxns").maybeGetContactName(a,b.userJid).then(function(a){return d("EchoCommonUtils").craftEchoAddress(a,d("MAWJids").userIdFromJid(b.userJid),"AdvancedCrypto")})}))})}function b(a,b){var c=d("MAWJids").switchOnChatJidType(b.jid,{group:function(a){return!0},user:function(a){return!1}}),e=d("MAWJids").switchOnChatJidType(b.jid,{group:function(a){return d("MAWJids").groupIdFromJid(a)},user:function(a){return d("MAWJids").userIdFromJid(a)}});a=i(a,b.chatId);return a.then(function(a){return{threadId:e,displayName:"",displayImageUrl:"",sortOrder:0,displayTimestamp:b.newestMsgTs||0,isGroupThread:c,folderType:h(b.folder),participantsList:a,xThreadId:e,version:d("EchoThread").ECHO_THREAD_MIGRATION_DOCUMENT_VERSION}})}g.getFolderTypeAsText=a;g.constructEchoThread=b}),98);
__d("MAWDbBrowserEncryptionMetaTxns",["MAWCryptoConsts","MAWDexieTable","MAWKeychain","MAWKeychainCrypto","WALogger","WATimeUtils","err"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Keychain - No Previous Browser Encryption Meta Exists"]);h=function(){return a};return a}function i(a){return a.browserEncryptionMetaV2.orderBy("version").toArray()}function j(a){return a.browserEncryptionMetaV2.orderBy("version").last()}function a(a,b){return a.browserEncryptionMetaV2.where("version").equals(b).first()}function k(a,b){return a.browserEncryptionMetaV2.add(b)}function l(a){return a.browserEncryptionMetaV2.count()}function m(a,b,c){var e=d("MAWKeychainCrypto").genBrowserEncryptionKeyString(),f=d("MAWKeychainCrypto").genDatabaseEncryptionSeed();return d("MAWDexieTable").dexieAll([d("MAWDexieTable").dexieExpensiveAwait(d("MAWKeychainCrypto").importBrowserEncryptionKey(e)),d("MAWDexieTable").dexieExpensiveAwait(d("MAWKeychainCrypto").encryptDataToStringBuffer(b,f))]).then(function(b){var g=b[0];b=b[1];var h=d("WATimeUtils").castToUnixTime(d("WATimeUtils").unixTime()+d("MAWCryptoConsts").ENC_KEY_TTL);b={key:e,seed:b,expiration:h,version:c};return k(a,b).then(function(){return{expiration:h,version:c,key:g,seed:f}})})}function b(a,b){return j(a).then(function(c){c==null&&d("WALogger").DEV(h());if(c!=null&&!d("WATimeUtils").isInFuture(c.expiration))return m(a,b,c.version+1).then(function(){});return})}function n(a,b,c){return i(a).then(function(a){var e=c==null?a:a.filter(function(a){return a.version<=c});a=e.map(function(a){return d("MAWDexieTable").dexieAll([d("MAWDexieTable").dexieExpensiveAwait(d("MAWKeychainCrypto").importBrowserEncryptionKey(a.key)),d("MAWDexieTable").dexieExpensiveAwait(d("MAWKeychainCrypto").decryptDataToArrayBuffer(b,a.seed))]).then(function(b){var c=b[0];b=b[1];return{key:c,seed:b,expiration:a.expiration,version:a.version}})});return d("MAWDexieTable").dexieAll(a).then(function(a){var b=new Map(),c=d("MAWKeychain").getLatestVersion();a.map(function(a){b.set(a.version,a),c<a.version&&(c=a.version)});d("MAWKeychain").setLatestVersion(c);d("MAWKeychain").setEncryptionKeyEntries(b);return{dbEncMetas:e,encEntriesMap:b,latestVersion:c}})})}function e(a,b){return n(a,b).then(function(e){var f=e.dbEncMetas,g=e.encEntriesMap,h=e.latestVersion;return l(a).then(function(e){if(e!==f.length)throw c("err")("MAWKeychain - EncMeta count does not equal the fetched amount");e===0&&f.length===0?e=m(a,b,d("MAWCryptoConsts").VERSION).then(function(a){var b=new Map(),c=a.version;b.set(c,a);d("MAWKeychain").setEncryptionKeyEntries(b);d("MAWKeychain").setLatestVersion(c);return{encMaterials:b,latestVersion:c}}):e=d("MAWDexieTable").dexieResolve({encMaterials:g,latestVersion:h});return e})})}g.getAllBrowserEncryptionMeta=i;g.getLatestBrowserEncryptionMeta=j;g.getBrowserEncryptionMetaByVersion=a;g.setBrowserEncryptionMeta=k;g.getBrowserEncryptionMetaCount=l;g.generateNewBrowserEncryptionMeta=m;g.maybeRotateBrowserEncryptionMeta=b;g.fetchEncryptionMetas=n;g.fetchOrGenerateEncryptionMetas=e}),98);
__d("MAWDbMutationMiddleware",["FBLogger","MAWDbMiddlewareMutations"],(function(a,b,c,d,e,f,g){function a(){return{stack:"dbcore",name:"MAWDbMutationMiddleware",create:function(a){return babelHelpers["extends"]({},a,{table:function(b){var e=a.table(b);try{return babelHelpers["extends"]({},e,{mutate:function(a){var c=null;switch(a.type){case"add":case"put":c=a.values.map(function(a){return d("MAWDbMiddlewareMutations").mutateValue(a,b)});break;case"delete":break;case"deleteRange":break}if(a.type==="delete"||a.type==="deleteRange"||c==null)return e.mutate(a);a.values=c;return e.mutate(a).then(function(a){return a})},get:function(a){return e.get(a).then(function(a){if(a===void 0)return void 0;a=d("MAWDbMiddlewareMutations").getValue(a,b);return a})},getMany:function(a){return e.getMany(a).then(function(a){a=a.map(function(a){return a===void 0?void 0:d("MAWDbMiddlewareMutations").getValue(a,b)});return a})},query:function(a){return e.query(a).then(function(a){if(a.result.length===0||typeof a.result[0]!=="object")return a;var c=a.result.map(function(a){return d("MAWDbMiddlewareMutations").getValue(a,b)});a.result=c;return a})},openCursor:function(a){return e.openCursor(a).then(function(a){return a==null||a.value==null?a:h(a,b)})}})}catch(a){c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("Error applying MAWDbMiddleware");return e}}})}}}function h(a,b){var c,e=Object.create(a,{key:{get:function(){return a.key}},primaryKey:{get:function(){return a.primaryKey}},continuePrimaryKey:{get:function(){return a.continuePrimaryKey}},"continue":{get:function(){return a["continue"]}},start:{value:function(e){return a.start(function(){c=d("MAWDbMiddlewareMutations").getValue(a.value,b),a.value=c,e()})}},value:{get:function(){return c}}});return e}g.getMAWDbMutationMiddleware=a}),98);
__d("MAWArmadilloAppDataTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};e={};f={};var h={},i={},j={},k={},l={},m={},n={},o={};a.internalSpec={externalId:[1,d("WAProtoConst").TYPES.STRING],author:[2,d("WAProtoConst").TYPES.STRING],chat:[3,d("WAProtoConst").TYPES.STRING]};b.internalSpec={fromMe:[1,d("WAProtoConst").TYPES.BOOL],id:[2,d("WAProtoConst").TYPES.STRING]};c.internalSpec={key:[1,d("WAProtoConst").TYPES.MESSAGE,b],ts:[2,d("WAProtoConst").TYPES.INT64]};e.internalSpec={lastMessageTimestamp:[1,d("WAProtoConst").TYPES.INT64],lastSystemMessageTimestamp:[2,d("WAProtoConst").TYPES.INT64],messages:[3,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,c]};f.internalSpec={type:[1,d("WAProtoConst").TYPES.STRING],chatJid:[2,d("WAProtoConst").TYPES.STRING],archived:[3,d("WAProtoConst").TYPES.BOOL],ts:[4,d("WAProtoConst").TYPES.INT64],messageRange:[5,d("WAProtoConst").TYPES.MESSAGE,e],read:[6,d("WAProtoConst").TYPES.BOOL]};h.internalSpec={type:[1,d("WAProtoConst").TYPES.STRING],protocolMsgId:[2,d("WAProtoConst").TYPES.MESSAGE,a]};i.internalSpec={chatAction:[1,d("WAProtoConst").TYPES.MESSAGE,f],messageAction:[2,d("WAProtoConst").TYPES.MESSAGE,h],__oneofs__:{action:["chatAction","messageAction"]}};j.internalSpec={actions:[1,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,i]};k.internalSpec={id:[1,d("WAProtoConst").TYPES.UINT64],anonId:[2,d("WAProtoConst").TYPES.BYTES],rootKey:[3,d("WAProtoConst").TYPES.BYTES],status:[4,d("WAProtoConst").TYPES.INT32]};l.internalSpec={backupId:[1,d("WAProtoConst").TYPES.UINT64],serverDataId:[2,d("WAProtoConst").TYPES.UINT64],epoch:[3,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,k],tempOcmfClientState:[4,d("WAProtoConst").TYPES.BYTES],mailboxRootKey:[5,d("WAProtoConst").TYPES.BYTES],obliviousValidationToken:[6,d("WAProtoConst").TYPES.BYTES]};m.internalSpec={type:[1,d("WAProtoConst").TYPES.STRING],actions:[2,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,i],encryptedBackupsSecrets:[3,d("WAProtoConst").TYPES.MESSAGE,l]};n.internalSpec={deviceJid:[1,d("WAProtoConst").TYPES.STRING],serializedPubKey:[2,d("WAProtoConst").TYPES.BYTES],baseKey:[3,d("WAProtoConst").TYPES.BYTES]};o.internalSpec={externalId:[1,d("WAProtoConst").TYPES.STRING],ts:[2,d("WAProtoConst").TYPES.INT64],contents:[3,d("WAProtoConst").TYPES.MESSAGE,m],permittedIdentitiesPerDevice:[4,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,n],ack:[5,d("WAProtoConst").TYPES.INT32],appDataId:[6,d("WAProtoConst").TYPES.INT32],recipientDevices:[7,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.STRING]};g.ProtocolMsgIdSpec=a;g.MetaSyncMessageKeyProtoSpec=b;g.MetaSyncMessageProtoSpec=c;g.MetaSyncMessageRangeProtoSpec=e;g.MetaSyncChatActionProtoSpec=f;g.MetaSyncMessageActionProtoSpec=h;g.MetaSyncActionProtoSpec=i;g.MetaSyncAppDataProtoSpec=j;g.EncryptedBackupsSecretsEpochProtoSpec=k;g.EncryptedBackupsSecretsProtoSpec=l;g.AppDataProtoSpec=m;g.IdentitiesPerDeviceProtoSpec=n;g.AppDataTableSchemaProtoSpec=o}),98);
__d("MAWArmadilloAppMetaTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};a.internalSpec={msgTypeVersion:[1,d("WAProtoConst").TYPES.INT32],hmacKey:[2,d("WAProtoConst").TYPES.BYTES]};b.internalSpec={key:[1,d("WAProtoConst").TYPES.STRING],value:[2,d("WAProtoConst").TYPES.MESSAGE,a]};g.DbAppMetaValuesProtoSpec=a;g.AppMetaTableSchemaProtoSpec=b}),98);
__d("MAWArmadilloContactsTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};e={};a.internalSpec={ephemeralExpirationInSec:[1,d("WAProtoConst").TYPES.INT32],ephemeralLastUpdatedOrSetTimestamp:[2,d("WAProtoConst").TYPES.INT64]};b.internalSpec={syncResponseRetries:[1,d("WAProtoConst").TYPES.INT32],syncResponseSentTs:[2,d("WAProtoConst").TYPES.INT64]};c.internalSpec={sequence:[1,d("WAProtoConst").TYPES.INT64],timestamp:[2,d("WAProtoConst").TYPES.INT64],devices:[3,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.BYTES],signingDeviceIndex:[4,d("WAProtoConst").TYPES.INT64],dirty:[5,d("WAProtoConst").TYPES.BOOL]};e.internalSpec={contactJid:[1,d("WAProtoConst").TYPES.STRING],devices:[2,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.STRING],dhash:[3,d("WAProtoConst").TYPES.STRING],nameForSearch:[4,d("WAProtoConst").TYPES.STRING],ephemeralSetting:[5,d("WAProtoConst").TYPES.MESSAGE,a],isBlocked:[6,d("WAProtoConst").TYPES.BOOL],lastSyncTs:[7,d("WAProtoConst").TYPES.INT64],icdcInfo:[8,d("WAProtoConst").TYPES.MESSAGE,c],ephemeralSyncResponseBackoffInfo:[9,d("WAProtoConst").TYPES.MESSAGE,b]};g.EphemeralSettingProtoSpec=a;g.EphemeralSyncResponseBackoffInfoSpec=b;g.ICDCInfoProtoSpec=c;g.ContactsTableSchemaProtoSpec=e}),98);
__d("MAWArmadilloGroupInfoTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.internalSpec={groupJid:[1,d("WAProtoConst").TYPES.STRING],threadId:[2,d("WAProtoConst").TYPES.INT32],creator:[3,d("WAProtoConst").TYPES.STRING],creationTs:[4,d("WAProtoConst").TYPES.INT64],name:[5,d("WAProtoConst").TYPES.STRING],nameOwner:[6,d("WAProtoConst").TYPES.STRING],nameTs:[7,d("WAProtoConst").TYPES.INT64],msgExpiration:[8,d("WAProtoConst").TYPES.INT32],participantVersion:[9,d("WAProtoConst").TYPES.STRING],inviter:[10,d("WAProtoConst").TYPES.STRING]};g.GroupInfoSchemaProtoSpec=a}),98);
__d("MAWArmadilloMediaTablesSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};e={};f={};var h={};a.internalSpec={plaintextHash:[1,d("WAProtoConst").TYPES.STRING],blobData:[2,d("WAProtoConst").TYPES.BYTES],mimetype:[3,d("WAProtoConst").TYPES.STRING],hashedPlaintextHash:[4,d("WAProtoConst").TYPES.STRING],chunkId:[5,d("WAProtoConst").TYPES.INT32]};b.internalSpec={msgId:[1,d("WAProtoConst").TYPES.STRING],mediaEntryData:[2,d("WAProtoConst").TYPES.BYTES]};c.internalSpec={duration:[1,d("WAProtoConst").TYPES.INT32],width:[2,d("WAProtoConst").TYPES.INT32],height:[3,d("WAProtoConst").TYPES.INT32],mimetype:[4,d("WAProtoConst").TYPES.STRING],jpegThumbnail:[5,d("WAProtoConst").TYPES.BYTES],jpegThumbnailHeight:[6,d("WAProtoConst").TYPES.INT32],jpegThumbnailWidth:[7,d("WAProtoConst").TYPES.INT32]};e.internalSpec={width:[1,d("WAProtoConst").TYPES.INT32],height:[2,d("WAProtoConst").TYPES.INT32],jpegThumbnail:[3,d("WAProtoConst").TYPES.BYTES],jpegThumbnailHeight:[4,d("WAProtoConst").TYPES.INT32],jpegThumbnailWidth:[5,d("WAProtoConst").TYPES.INT32]};f.internalSpec={duration:[1,d("WAProtoConst").TYPES.INT32],mimetype:[2,d("WAProtoConst").TYPES.STRING],played:[3,d("WAProtoConst").TYPES.BOOL]};h.internalSpec={mediaType:[1,d("WAProtoConst").TYPES.STRING],plaintextHash:[2,d("WAProtoConst").TYPES.STRING],size:[3,d("WAProtoConst").TYPES.INT32],mediaEntries:[4,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,b],ts:[5,d("WAProtoConst").TYPES.INT64],validatedVideoInfo:[6,d("WAProtoConst").TYPES.MESSAGE,c],validatedImageInfo:[7,d("WAProtoConst").TYPES.MESSAGE,e],validatedAudioInfo:[8,d("WAProtoConst").TYPES.MESSAGE,f],hashedPlaintextHash:[9,d("WAProtoConst").TYPES.STRING],mediaId:[10,d("WAProtoConst").TYPES.INT32],msgIds:[11,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.STRING]};g.ChunkTableSchemaProtoSpec=a;g.MediaEntriesProtoSpec=b;g.VideoMsgContentProtoSpec=c;g.ImageMsgContentProtoSpec=e;g.AudioMsgContentProtoSpec=f;g.MediaTableSchemaProtoSpec=h}),98);
__d("MAWArmadilloMessagesTableSchema.pb",["MAWArmadilloContactsTableSchema.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};e={};f={};var h={},i={},j={},k={};a.internalSpec={content:[1,d("WAProtoConst").TYPES.STRING],adminMsgContent:[2,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.STRING],adminType:[3,d("WAProtoConst").TYPES.STRING],expiration:[4,d("WAProtoConst").TYPES.INT32],ts:[5,d("WAProtoConst").TYPES.INT64],subtype:[6,d("WAProtoConst").TYPES.STRING],protobuf:[7,d("WAProtoConst").TYPES.BYTES],screenshotActionType:[8,d("WAProtoConst").TYPES.INT32]};b.internalSpec={frankingTag:[1,d("WAProtoConst").TYPES.BYTES],frankingVersion:[2,d("WAProtoConst").TYPES.INT32],reportingContent:[3,d("WAProtoConst").TYPES.BYTES],reportingTag:[4,d("WAProtoConst").TYPES.BYTES]};c.internalSpec={remoteJid:[1,d("WAProtoConst").TYPES.STRING],content:[2,d("WAProtoConst").TYPES.MESSAGE,j]};e.internalSpec={duration:[1,d("WAProtoConst").TYPES.INT32],width:[2,d("WAProtoConst").TYPES.INT32],height:[3,d("WAProtoConst").TYPES.INT32],mimetype:[4,d("WAProtoConst").TYPES.STRING],jpegThumbnail:[5,d("WAProtoConst").TYPES.BYTES],jpegThumbnailHeight:[6,d("WAProtoConst").TYPES.INT32],jpegThumbnailWidth:[7,d("WAProtoConst").TYPES.INT32]};f.internalSpec={width:[1,d("WAProtoConst").TYPES.INT32],height:[2,d("WAProtoConst").TYPES.INT32],jpegThumbnail:[3,d("WAProtoConst").TYPES.BYTES],jpegThumbnailHeight:[4,d("WAProtoConst").TYPES.INT32],jpegThumbnailWidth:[5,d("WAProtoConst").TYPES.INT32]};h.internalSpec={duration:[1,d("WAProtoConst").TYPES.INT32],mimetype:[2,d("WAProtoConst").TYPES.STRING],played:[3,d("WAProtoConst").TYPES.BOOL]};i.internalSpec={mediaType:[1,d("WAProtoConst").TYPES.STRING],plaintextHash:[2,d("WAProtoConst").TYPES.STRING],size:[3,d("WAProtoConst").TYPES.INT32],ts:[4,d("WAProtoConst").TYPES.INT64],mediaEntry:[5,d("WAProtoConst").TYPES.BYTES],validatedVideoInfo:[6,d("WAProtoConst").TYPES.MESSAGE,e],validatedImageInfo:[7,d("WAProtoConst").TYPES.MESSAGE,f],validatedAudioInfo:[8,d("WAProtoConst").TYPES.MESSAGE,h]};j.internalSpec={type:[1,d("WAProtoConst").TYPES.STRING],ts:[2,d("WAProtoConst").TYPES.INT64],externalId:[3,d("WAProtoConst").TYPES.STRING],author:[4,d("WAProtoConst").TYPES.STRING],msgContent:[5,d("WAProtoConst").TYPES.MESSAGE,a],obsoleteMedia:[6,d("WAProtoConst").TYPES.MESSAGE,i],msgId:[7,d("WAProtoConst").TYPES.STRING],mediaId:[8,d("WAProtoConst").TYPES.INT32]};k.internalSpec={type:[1,d("WAProtoConst").TYPES.STRING],ts:[2,d("WAProtoConst").TYPES.INT64],externalId:[3,d("WAProtoConst").TYPES.STRING],msgId:[4,d("WAProtoConst").TYPES.STRING],author:[5,d("WAProtoConst").TYPES.STRING],ack:[6,d("WAProtoConst").TYPES.INT32],resendCount:[7,d("WAProtoConst").TYPES.INT32],msgContent:[8,d("WAProtoConst").TYPES.MESSAGE,a],altIndex:[9,d("WAProtoConst").TYPES.STRING],forwardingScore:[10,d("WAProtoConst").TYPES.INT32],quote:[11,d("WAProtoConst").TYPES.MESSAGE,c],messageExpirationTs:[12,d("WAProtoConst").TYPES.INT64],ephemeralSetting:[13,d("WAProtoConst").TYPES.MESSAGE,d("MAWArmadilloContactsTableSchema.pb").EphemeralSettingProtoSpec],revokedExternalId:[14,d("WAProtoConst").TYPES.STRING],isForwarded:[15,d("WAProtoConst").TYPES.BOOL],serverTs:[16,d("WAProtoConst").TYPES.INT64],originalTs:[17,d("WAProtoConst").TYPES.INT64],sortOrderMs:[18,d("WAProtoConst").TYPES.INT64],reportingMeta:[19,d("WAProtoConst").TYPES.MESSAGE,b],messageDeleteTs:[20,d("WAProtoConst").TYPES.INT64],ephemeralCounterStarted:[21,d("WAProtoConst").TYPES.BOOL],quoteExternalId:[22,d("WAProtoConst").TYPES.STRING],unsendMsgContentDeleteTs:[23,d("WAProtoConst").TYPES.INT64],rowId:[24,d("WAProtoConst").TYPES.INT32],thread:[25,d("WAProtoConst").TYPES.INT32],mediaId:[26,d("WAProtoConst").TYPES.INT32]};g.MsgContentProtoSpec=a;g.ReportingMetaProtoSpec=b;g.DbQuotedMsgProtoSpec=c;g.VideoMsgContentProtoSpec=e;g.ImageMsgContentProtoSpec=f;g.AudioMsgContentProtoSpec=h;g.QuotedDbMediaProtoSpec=i;g.DbQuotedMsgContentProtoSpec=j;g.MessagesTableSchemaProtoSpec=k}),98);
__d("MAWArmadilloMetaRowTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};e={};f={};var h={},i={},j={};a.internalSpec={encryptedSerializedCat:[1,d("WAProtoConst").TYPES.STRING],expirationTimeInSeconds:[2,d("WAProtoConst").TYPES.INT32]};b.internalSpec={publicKey:[1,d("WAProtoConst").TYPES.BYTES],privateKey:[2,d("WAProtoConst").TYPES.BYTES]};c.internalSpec={intValue:[1,d("WAProtoConst").TYPES.INT32],strValue:[2,d("WAProtoConst").TYPES.STRING],boolValue:[3,d("WAProtoConst").TYPES.BOOL],__oneofs__:{value:["intValue","strValue","boolValue"]}};e.internalSpec={name:[1,d("WAProtoConst").TYPES.STRING],value:[2,d("WAProtoConst").TYPES.MESSAGE,c]};f.internalSpec={expoKey:[1,d("WAProtoConst").TYPES.INT32],value:[2,d("WAProtoConst").TYPES.STRING]};h.internalSpec={abKey:[1,d("WAProtoConst").TYPES.STRING],abHash:[2,d("WAProtoConst").TYPES.STRING],lastSyncTime:[3,d("WAProtoConst").TYPES.INT64],expoKeyStr:[4,d("WAProtoConst").TYPES.STRING],refresh:[5,d("WAProtoConst").TYPES.INT64],internalExpoKeys:[6,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.STRING],propExpoKeys:[7,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,f],propValues:[8,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,e]};i.internalSpec={cat:[1,d("WAProtoConst").TYPES.MESSAGE,a],deviceUUID:[2,d("WAProtoConst").TYPES.STRING],regId:[3,d("WAProtoConst").TYPES.INT32],identityKeyPair:[4,d("WAProtoConst").TYPES.MESSAGE,b],fbid:[5,d("WAProtoConst").TYPES.STRING],deviceId:[6,d("WAProtoConst").TYPES.INT32],lastSignedPrekeyId:[7,d("WAProtoConst").TYPES.INT32],lastPrekeyId:[8,d("WAProtoConst").TYPES.INT32],lastPrekeyGenerationId:[9,d("WAProtoConst").TYPES.INT32],edgeInfo:[10,d("WAProtoConst").TYPES.BYTES],clockSkew:[11,d("WAProtoConst").TYPES.INT32],msgrDeviceId:[12,d("WAProtoConst").TYPES.STRING],abProps:[13,d("WAProtoConst").TYPES.MESSAGE,h],__oneofs__:{value:["cat","deviceUUID","regId","identityKeyPair","fbid","deviceId","lastSignedPrekeyId","lastPrekeyId","lastPrekeyGenerationId","edgeInfo","clockSkew","msgrDeviceId","abProps"]}};j.internalSpec={key:[1,d("WAProtoConst").TYPES.STRING],value:[2,d("WAProtoConst").TYPES.MESSAGE,i]};g.ValidCatProtoSpec=a;g.KeyPairProtoSpec=b;g.AbPropTypeSpec=c;g.AbPropValueSpec=e;g.ExpoKeyMapSpec=f;g.AbPropsConfigSpec=h;g.ValueProtoSpec=i;g.MetaRowTableSchemaProtoSpec=j}),98);
__d("MAWArmadilloParticipantsTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.internalSpec={id:[1,d("WAProtoConst").TYPES.STRING],userJid:[2,d("WAProtoConst").TYPES.STRING],deliveredWatermarkTs:[3,d("WAProtoConst").TYPES.INT64],lastReadWatermarkTs:[4,d("WAProtoConst").TYPES.INT64],type:[5,d("WAProtoConst").TYPES.STRING],addressable:[6,d("WAProtoConst").TYPES.BOOL],lastReadActionTs:[7,d("WAProtoConst").TYPES.INT64],nickname:[8,d("WAProtoConst").TYPES.STRING],threadId:[9,d("WAProtoConst").TYPES.INT32]};g.ParticipantsTableSchemaProtoSpec=a}),98);
__d("MAWArmadilloPersonalSenderKeyStatusTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.internalSpec={groupJid:[1,d("WAProtoConst").TYPES.STRING],senderKeyId:[2,d("WAProtoConst").TYPES.INT32],needsSenderKey:[3,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.STRING],rotateSenderKey:[4,d("WAProtoConst").TYPES.BOOL],senderKeyTs:[5,d("WAProtoConst").TYPES.INT64]};g.PersonalSenderKeyStatusTableSchemaProtoSpec=a}),98);
__d("MAWArmadilloReactionsTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.internalSpec={ack:[1,d("WAProtoConst").TYPES.INT32],author:[2,d("WAProtoConst").TYPES.STRING],externalId:[3,d("WAProtoConst").TYPES.STRING],reactionId:[4,d("WAProtoConst").TYPES.STRING],reactToExternalId:[5,d("WAProtoConst").TYPES.STRING],reactToAuthor:[6,d("WAProtoConst").TYPES.STRING],reactToMsgId:[7,d("WAProtoConst").TYPES.STRING],threadJid:[8,d("WAProtoConst").TYPES.STRING],reaction:[9,d("WAProtoConst").TYPES.STRING],groupingKey:[10,d("WAProtoConst").TYPES.STRING],ts:[11,d("WAProtoConst").TYPES.INT64],rowId:[12,d("WAProtoConst").TYPES.INT32]};g.ReactionsTableSchemaProtoSpec=a}),98);
__d("MAWArmadilloReceiptTablesSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};e={};f={};var h={};a.internalSpec={deliveredTs:[1,d("WAProtoConst").TYPES.INT64],readTs:[2,d("WAProtoConst").TYPES.INT64]};b.internalSpec={userJid:[1,d("WAProtoConst").TYPES.STRING],dbUserStatusTs:[2,d("WAProtoConst").TYPES.MESSAGE,a]};c.internalSpec={deviceJid:[1,d("WAProtoConst").TYPES.STRING],serializedPubKey:[2,d("WAProtoConst").TYPES.BYTES],baseKey:[3,d("WAProtoConst").TYPES.BYTES]};e.internalSpec={msgId:[1,d("WAProtoConst").TYPES.STRING],statusTsPerUser:[2,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,b],permittedIdentitiesPerDevice:[3,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,c],recipientDevices:[4,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.STRING]};f.internalSpec={device:[1,d("WAProtoConst").TYPES.STRING],ts:[2,d("WAProtoConst").TYPES.INT64]};h.internalSpec={pendingReceiptId:[1,d("WAProtoConst").TYPES.STRING],thread:[2,d("WAProtoConst").TYPES.STRING],externalId:[3,d("WAProtoConst").TYPES.STRING],author:[4,d("WAProtoConst").TYPES.STRING],deliveryReceipts:[5,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,f],readReceipts:[6,d("WAProtoConst").FLAGS.REPEATED|d("WAProtoConst").TYPES.MESSAGE,f]};g.DbUserStatusTsProtoSpec=a;g.StatusTsPerUserProtoSpec=b;g.IdentitiesPerDeviceProtoSpec=c;g.ReceiptsTableSchemaProtoSpec=e;g.ReceiptsSpec=f;g.PendingReceiptsTableSchemaProtoSpec=h}),98);
__d("MAWArmadilloSignalTablesSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};b={};c={};e={};f={};var h={};a.internalSpec={deviceJid:[1,d("WAProtoConst").TYPES.STRING],identity:[2,d("WAProtoConst").TYPES.BYTES]};b.internalSpec={keyId:[1,d("WAProtoConst").TYPES.INT32],encoded:[2,d("WAProtoConst").TYPES.BYTES]};c.internalSpec={generationId:[1,d("WAProtoConst").TYPES.INT32],startingId:[2,d("WAProtoConst").TYPES.INT32],endingId:[3,d("WAProtoConst").TYPES.INT32],createdTs:[4,d("WAProtoConst").TYPES.INT64]};e.internalSpec={id:[1,d("WAProtoConst").TYPES.STRING],session:[2,d("WAProtoConst").TYPES.BYTES]};f.internalSpec={keyId:[1,d("WAProtoConst").TYPES.INT32],encoded:[2,d("WAProtoConst").TYPES.BYTES]};h.internalSpec={id:[1,d("WAProtoConst").TYPES.STRING],groupJid:[2,d("WAProtoConst").TYPES.STRING],userJid:[3,d("WAProtoConst").TYPES.STRING],deviceId:[4,d("WAProtoConst").TYPES.INT32],record:[5,d("WAProtoConst").TYPES.BYTES]};g.IdentityTableSchemaProtoSpec=a;g.PrekeyTableSchemaProtoSpec=b;g.PrekeyGenerationTableSchemaProtoSpec=c;g.SessionTableSchemaProtoSpec=e;g.SignedPrekeyTableSchemaProtoSpec=f;g.SenderKeySessionsTableSchemaProtoSpec=h}),98);
__d("MAWArmadilloTasksTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.internalSpec={taskName:[1,d("WAProtoConst").TYPES.STRING],scheduledTime:[2,d("WAProtoConst").TYPES.INT64]};g.TasksTableSchemaProtoSpec=a}),98);
__d("MAWArmadilloThreadsTableSchema.pb",["WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.internalSpec={jid:[1,d("WAProtoConst").TYPES.STRING],threadOrder:[2,d("WAProtoConst").TYPES.STRING],nextInChatMsgId:[3,d("WAProtoConst").TYPES.INT32],folder:[4,d("WAProtoConst").TYPES.INT32],newestMsg:[5,d("WAProtoConst").TYPES.STRING],oldestMsg:[6,d("WAProtoConst").TYPES.STRING],lastReadMsg:[7,d("WAProtoConst").TYPES.STRING],lastReadMsgReceiptSent:[8,d("WAProtoConst").TYPES.STRING],lastReadMsgTs:[9,d("WAProtoConst").TYPES.INT64],newestMsgTs:[10,d("WAProtoConst").TYPES.INT64],muteExpireTimeMs:[11,d("WAProtoConst").TYPES.INT64],muteCallsExpireTimeMs:[12,d("WAProtoConst").TYPES.INT64],archived:[13,d("WAProtoConst").TYPES.BOOL],cannotReplyReason:[14,d("WAProtoConst").TYPES.STRING],chatId:[15,d("WAProtoConst").TYPES.INT32]};g.ThreadsTableSchemaProtoSpec=a}),98);
__d("MAWArmadilloUnrenderedMessagesTableSchema.pb",["MAWArmadilloContactsTableSchema.pb","WAProtoConst"],(function(a,b,c,d,e,f,g){a={};a.internalSpec={type:[1,d("WAProtoConst").TYPES.STRING],ts:[2,d("WAProtoConst").TYPES.INT64],externalId:[3,d("WAProtoConst").TYPES.STRING],msgId:[4,d("WAProtoConst").TYPES.STRING],author:[5,d("WAProtoConst").TYPES.STRING],ack:[6,d("WAProtoConst").TYPES.INT32],resendCount:[7,d("WAProtoConst").TYPES.INT32],ephemeralSetting:[8,d("WAProtoConst").TYPES.MESSAGE,d("MAWArmadilloContactsTableSchema.pb").EphemeralSettingProtoSpec],messageDeleteForMeTs:[9,d("WAProtoConst").TYPES.INT64],rowId:[10,d("WAProtoConst").TYPES.INT32],thread:[11,d("WAProtoConst").TYPES.INT32]};g.UnrenderedMessagesTableSchemaProtoSpec=a}),98);
__d("MAWDbObjDecode",["MAWArmadilloAppDataTableSchema.pb","MAWArmadilloAppMetaTableSchema.pb","MAWArmadilloContactsTableSchema.pb","MAWArmadilloGroupInfoTableSchema.pb","MAWArmadilloMediaTablesSchema.pb","MAWArmadilloMessagesTableSchema.pb","MAWArmadilloMetaRowTableSchema.pb","MAWArmadilloParticipantsTableSchema.pb","MAWArmadilloPersonalSenderKeyStatusTableSchema.pb","MAWArmadilloReactionsTableSchema.pb","MAWArmadilloReceiptTablesSchema.pb","MAWArmadilloSignalTablesSchema.pb","MAWArmadilloTasksTableSchema.pb","MAWArmadilloThreadsTableSchema.pb","MAWArmadilloUnrenderedMessagesTableSchema.pb","MAWMsgType","decodeProtobuf","err"],(function(a,b,c,d,e,f,g){function a(a,b){var d=null;switch(b){case"messages":d=h(a);break;case"unrenderedMessages":d=i(a);break;case"groupInfo":d=j(a);break;case"meta":d=k(a);break;case"identity":d=l(a);break;case"prekey":d=m(a);break;case"prekeyGeneration":d=n(a);break;case"session":d=o(a);break;case"signedPrekey":d=p(a);break;case"senderKeySessions":d=q(a);break;case"receipts":d=s(a);break;case"pendingReceipts":d=t(a);break;case"threads":d=u(a);break;case"contacts":d=v(a);break;case"participants":d=w(a);break;case"tasks":d=x(a);break;case"personalSenderKeyStatuses":d=y(a);break;case"appData":d=z(a);break;case"appMeta":d=A(a);break;case"chunk":d=B(a);break;case"media":d=C(a);break;case"reactions":d=D(a);break;default:throw c("err")("unexpected table for decryption")}return d}function h(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloMessagesTableSchema.pb").MessagesTableSchemaProtoSpec,a);var b=a.msgContent;if(a.type===d("MAWMsgType").MSG_TYPE.FUTUREPROOF){if(b==null)throw c("err")("MsgContent missing upon decoding futureproof message");b.subtype=b.subtype}var e=a.quote,f;if(e!=null){if(e.content==null)throw c("err")("QuotedMsgContent missing upon decoding");var g=e.content,h=g.type,i=g.ts,j=g.externalId,k=g.author,l=g.msgContent,m=g.msgId;g=g.mediaId;f={remoteJid:e.remoteJid,content:babelHelpers["extends"]({},e.content,{type:h,ts:i,externalId:j,author:k,msgContent:l,msgId:m,mediaId:g})}}e=a.reportingMeta;e==null?h=e:h={frankingTag:e.frankingTag!=null?new Uint8Array(e.frankingTag):e.frankingTag,frankingVersion:e.frankingVersion,reportingTag:e.reportingTag!=null?new Uint8Array(e.reportingTag):e.reportingTag,reportingContent:e.reportingContent};return babelHelpers["extends"]({},a,{msgContent:b,reportingMeta:h,quote:f})}function i(a){return d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloUnrenderedMessagesTableSchema.pb").UnrenderedMessagesTableSchemaProtoSpec,a)}function j(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloGroupInfoTableSchema.pb").GroupInfoSchemaProtoSpec,a);return{creator:a.creator,creationTs:a.creationTs,name:a.name,nameOwner:a.nameOwner,nameTs:a.nameTs,msgExpiration:a.msgExpiration,participantVersion:a.participantVersion,inviter:a.inviter}}function k(a){var b;a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloMetaRowTableSchema.pb").MetaRowTableSchemaProtoSpec,a);b=(b=a.value)==null?void 0:b.cat;if(b==null)b=b;else{var e;b={encrypted_serialized_cat:(e=a.value)==null?void 0:(e=e.cat)==null?void 0:e.encryptedSerializedCat,expiration_time_in_seconds:(e=a.value)==null?void 0:(e=e.cat)==null?void 0:e.expirationTimeInSeconds}}var f;e=(e=a.value)==null?void 0:e.edgeInfo;e==null?f=e:f=new Uint8Array(e);var g;e=(e=a.value)==null?void 0:e.identityKeyPair;if(e==null)g=e;else{var h=e.privateKey;e=e.publicKey;if(h==null||e==null)throw c("err")("Decoding identityKeyPair private or public key missing");g={privateKey:new Uint8Array(h),publicKey:new Uint8Array(e)}}return{value:{cat:b,deviceUUID:(h=a.value)==null?void 0:h.deviceUUID,regId:(e=a.value)==null?void 0:e.regId,identityKeyPair:g,fbid:(b=a.value)==null?void 0:b.fbid,deviceId:(h=a.value)==null?void 0:h.deviceId,lastSignedPrekeyId:(e=a.value)==null?void 0:e.lastSignedPrekeyId,lastPrekeyId:(g=a.value)==null?void 0:g.lastPrekeyId,lastPrekeyGenerationId:(b=a.value)==null?void 0:b.lastPrekeyGenerationId,edgeInfo:f,clockSkew:(h=a.value)==null?void 0:h.clockSkew,abProps:(e=a.value)==null?void 0:e.abProps}}}function l(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").IdentityTableSchemaProtoSpec,a);var b;a=a.identity;a==null?b=a:b=new Uint8Array(a);return{identity:b}}function m(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").PrekeyTableSchemaProtoSpec,a);var b;a=a.encoded;a==null?b=a:b=new Uint8Array(a);return{encoded:b}}function n(a){return d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").PrekeyGenerationTableSchemaProtoSpec,a)}function o(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").SessionTableSchemaProtoSpec,a);var b;a=a.session;a==null?b=a:b=new Uint8Array(a);return{session:b}}function p(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").SignedPrekeyTableSchemaProtoSpec,a);var b;a=a.encoded;a==null?b=a:b=new Uint8Array(a);return{encoded:b}}function q(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").SenderKeySessionsTableSchemaProtoSpec,a);var b,c=a.record;c==null?b=c:b=new Uint8Array(c);return{deviceId:a.deviceId,record:b}}function r(a){if(a.length===0)return null;else return new Map(a.map(function(a){var b=a.deviceJid;if(b==null||a.serializedPubKey==null)throw c("err")("Expected deviceJid or serializedPubKey are missing ");var d=new Uint8Array(a.serializedPubKey);a.baseKey!=null?a={pubKey:d,baseKey:new Uint8Array(a.baseKey)}:a={pubKey:d};return[b,a]}))}function s(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloReceiptTablesSchema.pb").ReceiptsTableSchemaProtoSpec,a);var b,e=a.statusTsPerUser;e==null?b=new Map():b=new Map(e.map(function(a){if(a.userJid==null||a.dbUserStatusTs==null)throw c("err")("Expected userJid or dbUserStatus are missing ");return[a.userJid,a.dbUserStatusTs]}));var f;e=a.recipientDevices;e==null?f=new Set():f=new Set(e);return{statusTsPerUser:b,permittedIdentitiesPerDevice:r(a.permittedIdentitiesPerDevice),recipientDevices:f}}function t(a){return d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloReceiptTablesSchema.pb").PendingReceiptsTableSchemaProtoSpec,a)}function u(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloThreadsTableSchema.pb").ThreadsTableSchemaProtoSpec,a);return{nextInChatMsgId:a.nextInChatMsgId,folder:a.folder,newestMsg:a.newestMsg,oldestMsg:a.oldestMsg,lastReadMsg:a.lastReadMsg,lastReadMsgReceiptSent:a.lastReadMsgReceiptSent,lastReadMsgTs:a.lastReadMsgTs,newestMsgTs:a.newestMsgTs,muteExpireTimeMs:a.muteExpireTimeMs,muteCallsExpireTimeMs:a.muteCallsExpireTimeMs,archived:a.archived,cannotReplyReason:a.cannotReplyReason}}function v(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloContactsTableSchema.pb").ContactsTableSchemaProtoSpec,a);var b=a.icdcInfo,c;b!=null&&(c={sequence:b.sequence,timestamp:b.timestamp,devices:b.devices.map(function(a){return new Uint8Array(a)}),signingDeviceIndex:b.signingDeviceIndex,dirty:b.dirty});return{devices:a.devices,dhash:a.dhash,nameForSearch:a.nameForSearch,ephemeralSetting:a.ephemeralSetting,isBlocked:a.isBlocked,lastSyncTs:a.lastSyncTs,icdcInfo:c}}function w(a){return d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloParticipantsTableSchema.pb").ParticipantsTableSchemaProtoSpec,a)}function x(a){return d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloTasksTableSchema.pb").TasksTableSchemaProtoSpec,a)}function y(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloPersonalSenderKeyStatusTableSchema.pb").PersonalSenderKeyStatusTableSchemaProtoSpec,a);var b,c=a.needsSenderKey;c.length===0?b=new Set():b=new Set(c);return{senderKeyId:a.senderKeyId,needsSenderKey:b,rotateSenderKey:a.rotateSenderKey,senderKeyTs:a.senderKeyTs}}function z(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloAppDataTableSchema.pb").AppDataTableSchemaProtoSpec,a);return{ts:a.ts,contents:a.contents,permittedIdentitiesPerDevice:r(a.permittedIdentitiesPerDevice),recipientDevices:new Set(a.recipientDevices),ack:a.ack}}function A(a){return d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloAppMetaTableSchema.pb").AppMetaTableSchemaProtoSpec,a)}function B(a){return d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloMediaTablesSchema.pb").ChunkTableSchemaProtoSpec,a)}function C(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloMediaTablesSchema.pb").MediaTableSchemaProtoSpec,a);var b,e=a.mediaEntries;e==null?b=new Map():b=new Map(e.map(function(a){if(a.msgId==null||a.mediaEntryData==null)throw c("err")("Expected msgId or mediaEntryData are missing ");return[a.msgId,new Uint8Array(a.mediaEntryData)]}));return{mediaType:a.mediaType,size:a.size,mediaEntries:b,ts:a.ts,validatedVideoInfo:a.validatedVideoInfo,validatedImageInfo:a.validatedImageInfo,validatedAudioInfo:a.validatedAudioInfo,plaintextHash:a.plaintextHash}}function D(a){a=d("decodeProtobuf").decodeProtobuf(d("MAWArmadilloReactionsTableSchema.pb").ReactionsTableSchemaProtoSpec,a);return{ack:a.ack,author:a.author,reactToAuthor:a.reactToAuthor,reaction:a.reaction,groupingKey:a.groupingKey,ts:a.ts}}g.decodeDbObj=a}),98);
__d("MAWDbObjEncode",["MAWArmadilloAppDataTableSchema.pb","MAWArmadilloAppMetaTableSchema.pb","MAWArmadilloContactsTableSchema.pb","MAWArmadilloGroupInfoTableSchema.pb","MAWArmadilloMediaTablesSchema.pb","MAWArmadilloMessagesTableSchema.pb","MAWArmadilloMetaRowTableSchema.pb","MAWArmadilloParticipantsTableSchema.pb","MAWArmadilloPersonalSenderKeyStatusTableSchema.pb","MAWArmadilloReactionsTableSchema.pb","MAWArmadilloReceiptTablesSchema.pb","MAWArmadilloSignalTablesSchema.pb","MAWArmadilloTasksTableSchema.pb","MAWArmadilloThreadsTableSchema.pb","MAWArmadilloUnrenderedMessagesTableSchema.pb","MAWMsgType","encodeProtobuf","err"],(function(a,b,c,d,e,f,g){function a(a,b){var d=null;switch(b){case"messages":d=h(a);break;case"unrenderedMessages":d=i(a);break;case"groupInfo":d=j(a);break;case"meta":d=k(a);break;case"identity":d=l(a);break;case"prekey":d=m(a);break;case"prekeyGeneration":d=n(a);break;case"session":d=o(a);break;case"signedPrekey":d=p(a);break;case"senderKeySessions":d=q(a);break;case"receipts":d=s(a);break;case"pendingReceipts":d=t(a);break;case"threads":d=u(a);break;case"contacts":d=v(a);break;case"participants":d=w(a);break;case"tasks":d=x(a);break;case"personalSenderKeyStatuses":d=y(a);break;case"appData":d=z(a);break;case"appMeta":d=A(a);break;case"chunk":d=B(a);break;case"media":d=C(a);break;case"reactions":d=D(a);break;default:throw c("err")("unexpected table for encryption")}return d}function h(a){a.altIndex;a.externalId;a.messageDeleteTs;a.messageExpirationTs;a.msgId;a.quoteExternalId;a.revokedExternalId;a.rowId;a.thread;a.unsendMsgContentDeleteTs;a=babelHelpers.objectWithoutPropertiesLoose(a,["altIndex","externalId","messageDeleteTs","messageExpirationTs","msgId","quoteExternalId","revokedExternalId","rowId","thread","unsendMsgContentDeleteTs"]);a=a;var b;if(a.quote==null)b=a.quote;else{var c;c={type:a.quote.content.type,ts:a.quote.content.ts,externalId:(c=a.quote)==null?void 0:c.content.externalId,author:a.quote.content.author,msgContent:a.quote.content.msgContent,msgId:a.quote.content.msgId,mediaId:a.quote.content.mediaId};c={remoteJid:a.quote.remoteJid,content:c};b=c}c=a.msgContent;a.type===d("MAWMsgType").MSG_TYPE.FUTUREPROOF&&(c={subtype:a.msgContent.subtype,protobuf:a.msgContent.protobuf});c={type:a.type,ts:a.ts,author:a.author,ack:a.ack,resendCount:a.resendCount,msgContent:c,forwardingScore:a.forwardingScore,quote:b,ephemeralSetting:a.ephemeralSetting,isForwarded:a.isForwarded,serverTs:a.serverTs,originalTs:a.originalTs,reportingMeta:a.reportingMeta,ephemeralCounterStarted:a.ephemeralCounterStarted,mediaId:a.mediaId};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloMessagesTableSchema.pb").MessagesTableSchemaProtoSpec,c).readByteArray(),encodedFields:c}}function i(a){a={type:a.type,ts:a.ts,author:a.author,ack:a.ack,resendCount:a.resendCount,ephemeralSetting:a.ephemeralSetting,messageDeleteForMeTs:a.messageDeleteForMeTs};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloUnrenderedMessagesTableSchema.pb").UnrenderedMessagesTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function j(a){a={creator:a.creator,creationTs:a.creationTs,name:a.name,nameOwner:a.nameOwner,nameTs:a.nameTs,msgExpiration:a.msgExpiration,participantVersion:a.participantVersion,inviter:a.inviter};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloGroupInfoTableSchema.pb").GroupInfoSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function k(a){var b=a.value.cat==null?a.value.cat:{encryptedSerializedCat:a.value.cat.encrypted_serialized_cat,expirationTimeInSeconds:a.value.cat.expiration_time_in_seconds};b={value:{cat:b,deviceUUID:a.value.deviceUUID,regId:a.value.regId,identityKeyPair:a.value.identityKeyPair,fbid:a.value.fbid,deviceId:a.value.deviceId,lastSignedPrekeyId:a.value.lastSignedPrekeyId,lastPrekeyId:a.value.lastPrekeyId,lastPrekeyGenerationId:a.value.lastPrekeyGenerationId,edgeInfo:a.value.edgeInfo,clockSkew:a.value.clockSkew,abProps:a.value.abProps}};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloMetaRowTableSchema.pb").MetaRowTableSchemaProtoSpec,b).readByteArray(),encodedFields:b}}function l(a){a={identity:a.identity};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").IdentityTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function m(a){a={encoded:a.encoded};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").PrekeyTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function n(a){a={startingId:a.startingId,endingId:a.endingId,createdTs:a.createdTs};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").PrekeyGenerationTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function o(a){a={session:a.session};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").SessionTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function p(a){a={encoded:a.encoded};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").SignedPrekeyTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function q(a){a={deviceId:a.deviceId,record:a.record};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloSignalTablesSchema.pb").SenderKeySessionsTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function r(a){if(a==null)return a;else return Array.from(a,function(a){var b=a[0];a=a[1];return{deviceJid:b,serializedPubKey:a.pubKey,baseKey:a.baseKey}})}function s(a){var b=Array.from(a.statusTsPerUser,function(a){var b=a[0];a=a[1];return{userJid:b,dbUserStatusTs:a}}),c=Array.from(a.recipientDevices);b={statusTsPerUser:b,permittedIdentitiesPerDevice:r(a.permittedIdentitiesPerDevice),recipientDevices:c};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloReceiptTablesSchema.pb").ReceiptsTableSchemaProtoSpec,b).readByteArray(),encodedFields:b}}function t(a){a={thread:a.thread,externalId:a.externalId,author:a.author,deliveryReceipts:a.deliveryReceipts,readReceipts:a.readReceipts};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloReceiptTablesSchema.pb").PendingReceiptsTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function u(a){a={nextInChatMsgId:a.nextInChatMsgId,folder:a.folder,newestMsg:a.newestMsg,oldestMsg:a.oldestMsg,lastReadMsg:a.lastReadMsg,lastReadMsgReceiptSent:a.lastReadMsgReceiptSent,lastReadMsgTs:a.lastReadMsgTs,newestMsgTs:a.newestMsgTs,muteExpireTimeMs:a.muteExpireTimeMs,muteCallsExpireTimeMs:a.muteCallsExpireTimeMs,archived:a.archived,cannotReplyReason:a.cannotReplyReason};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloThreadsTableSchema.pb").ThreadsTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function v(a){a={devices:a.devices,dhash:a.dhash,nameForSearch:a.nameForSearch,ephemeralSetting:a.ephemeralSetting,isBlocked:a.isBlocked,lastSyncTs:a.lastSyncTs,icdcInfo:a.icdcInfo};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloContactsTableSchema.pb").ContactsTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function w(a){a={deliveredWatermarkTs:a.deliveredWatermarkTs,lastReadWatermarkTs:a.lastReadWatermarkTs,type:a.type,addressable:a.addressable,lastReadActionTs:a.lastReadActionTs,nickname:a.nickname};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloParticipantsTableSchema.pb").ParticipantsTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function x(a){a={scheduledTime:a.scheduledTime};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloTasksTableSchema.pb").TasksTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function y(a){var b=Array.from(a.needsSenderKey);b={senderKeyId:a.senderKeyId,needsSenderKey:b,rotateSenderKey:a.rotateSenderKey,senderKeyTs:a.senderKeyTs};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloPersonalSenderKeyStatusTableSchema.pb").PersonalSenderKeyStatusTableSchemaProtoSpec,b).readByteArray(),encodedFields:b}}function z(a){if(a.contents.type==="meta_sync"){var b=[];for(var c=a.contents.actions,e=Array.isArray(c),f=0,c=e?c:c[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var g;if(e){if(f>=c.length)break;g=c[f++]}else{f=c.next();if(f.done)break;g=f.value}g=g;g.chatAction?b.push({chatAction:g.chatAction}):g.messageAction&&b.push({messageAction:g.messageAction})}g={type:"meta_sync",actions:b}}else a.contents.type,g={type:"backups_secrets",encryptedBackupsSecrets:a.contents.encryptedBackupsSecrets};f={ts:a.ts,contents:g,permittedIdentitiesPerDevice:r(a.permittedIdentitiesPerDevice),recipientDevices:Array.from(a.recipientDevices),ack:a.ack};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloAppDataTableSchema.pb").AppDataTableSchemaProtoSpec,f).readByteArray(),encodedFields:f}}function A(a){a={value:a.value};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloAppMetaTableSchema.pb").AppMetaTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function B(a){a={blobData:a.blobData,mimetype:a.mimetype,plaintextHash:a.plaintextHash};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloMediaTablesSchema.pb").ChunkTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}function C(a){var b=Array.from(a.mediaEntries,function(a){var b=a[0];a=a[1];return{msgId:b,mediaEntryData:a}});b={mediaType:a.mediaType,size:a.size,mediaEntries:b,ts:a.ts,plaintextHash:a.plaintextHash,validatedVideoInfo:a.validatedVideoInfo,validatedImageInfo:a.validatedImageInfo,validatedAudioInfo:a.validatedAudioInfo};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloMediaTablesSchema.pb").MediaTableSchemaProtoSpec,b).readByteArray(),encodedFields:b}}function D(a){a={ack:a.ack,author:a.author,reactToAuthor:a.reactToAuthor,reaction:a.reaction,groupingKey:a.groupingKey,ts:a.ts};return{proto:d("encodeProtobuf").encodeProtobuf(d("MAWArmadilloReactionsTableSchema.pb").ReactionsTableSchemaProtoSpec,a).readByteArray(),encodedFields:a}}g.encodeDbObj=a}),98);
__d("MAWQplProxy",["MAWBridge","QPLEvent","WALogger"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[QPL] event id: ",". Time taken: "," ms. Event ends with fail"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["[QPL] event id: ",". Add point on: "," ms. Point name is ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["[QPL] event id: ",". Time taken: "," ms."]);j=function(){return a};return a}var k=0;function l(){return Date.now()}function a(a,b){var c=++k,e=l();d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"start"},event:a,instanceKey:c,timestamp:e,annotations:b},!0);return{startTime:e,endSuccess:function(b){var f=l();d("WALogger").DEV(j(),d("QPLEvent").getMarkerId(a),f-e);d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"success"},event:a,instanceKey:c,annotations:b,timestamp:f},!0)},addPoint:function(b){var f=l();d("WALogger").DEV(i(),d("QPLEvent").getMarkerId(a),f-e,b);d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"point",name:b},timestamp:f,event:a,instanceKey:c},!0)},endFail:function(f,b){var g=l();d("WALogger").DEV(h(),d("QPLEvent").getMarkerId(a),g-e);d("MAWBridge").getBridge().fireAndForget("event","qplEvent",{action:{type:"failure",name:f},timestamp:g,event:a,instanceKey:c,annotations:b},!0)}}}g.performanceAbsoluteNow=l;g.startQplUserFlow=a}),98);
__d("MAWDbObjEncryption",["MAWCryptoConsts","MAWDbObjDecode","MAWDbObjEncode","MAWGating.re","MAWIndexedDb","MAWKeychain","MAWKeychainCrypto","MAWKeychainNaClCrypto","MAWKeychainUtil","MAWQplProxy","err","qpl"],(function(a,b,c,d,e,f,g){var h="_encryptedContent";function a(a,b){if(!d("MAWGating.re").isEncryptionAtRestEnabled()||!d("MAWIndexedDb").TABLES_TO_ENCRYPT.includes(b))return a;var e=d("MAWQplProxy").startQplUserFlow(c("qpl")._(25300256,"115"));try{var f=babelHelpers["extends"]({},a),g=d("MAWKeychain").getDbEncryptionKey(),i=g.version;g=g.key;i=d("MAWKeychainUtil").makeAAD(i,d("MAWCryptoConsts").CIPHER_ID);var j=d("MAWDbObjEncode").encodeDbObj(a,b),k=j.proto;j=j.encodedFields;Object.keys(j).forEach(function(b){Object.prototype.hasOwnProperty.call(a,b)&&delete f[b]});j=d("MAWKeychainNaClCrypto").encrypt(g,k,i);f[h]=j;e.endSuccess();return f}catch(a){e.endFail("ear_encrypt_fail");throw c("err")(a.message+" - Encrypted dexie was unable to encrypt an entity for table "+b)}}function b(a,b){if(!d("MAWIndexedDb").TABLES_TO_ENCRYPT.includes(b)||!Object.prototype.hasOwnProperty.call(a,h))return a;var e=d("MAWQplProxy").startQplUserFlow(c("qpl")._(25313004,"118"));try{var f=a[h];a=babelHelpers["extends"]({},a);var g=d("MAWKeychainCrypto").getKeyVersionFromCipherDataString(f),i=d("MAWKeychain").getDbEncryptionKey(g);i=i.key;var j={};i=d("MAWKeychainNaClCrypto").decrypt(i,f,g);var k=d("MAWDbObjDecode").decodeDbObj(i,b);Object.keys(k).forEach(function(a){j[a]=k[a]});delete a[h];f=babelHelpers["extends"]({},a,j);e.endSuccess();return f}catch(a){e.endFail("ear_decrypt_fail");throw c("err")(a.message+" - Encrypted dexie was unable to decrypt an entity for table "+b)}}g.ENCRYPTED_COLUMN_NAME=h;g.encryptDbObj=a;g.decryptDbObj=b}),98);
__d("MAWKeychain",["MAWCryptoConsts","MAWDbBrowserEncryptionMetaTxns","MAWIndexedDb","MAWKeychainCrypto","Promise","WALogger","err"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["MAWKeychain - Setup Keychain on Worker Thread"]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["MAWKeychain - Setup Keychain on Main Thread"]);i=function(){return a};return a}var j={accountKey:null,encryptionMaterials:new Map(),databaseEncryptionKeys:new Map(),latestVersion:d("MAWCryptoConsts").VERSION};function k(){var a=n();if(a==null)return d("MAWKeychainCrypto").genAccountKey().then(function(a){o(a);return a});else return b("Promise").resolve(a)}function a(){return k().then(function(a){return d("MAWIndexedDb").makeEncryptionMsgrTransactor({browserEncryptionMetaV2:d("MAWIndexedDb").READWRITE})(d("MAWDbBrowserEncryptionMetaTxns").fetchOrGenerateEncryptionMetas)(a).then(function(a){var b=a.encMaterials,c=a.latestVersion;return m(b).then(function(){d("WALogger").LOG(i());return c})})})}function e(a){return k().then(function(b){return d("MAWIndexedDb").makeEncryptionMsgrTransactor({browserEncryptionMetaV2:d("MAWIndexedDb").READWRITE})(d("MAWDbBrowserEncryptionMetaTxns").fetchEncryptionMetas)(b,a).then(function(a){a=a.encEntriesMap;if(a.size===0)throw c("err")("Worker expected EARKeychain to have been setup in Mainworker");d("WALogger").LOG(h());return m(a)})})}function f(){return k().then(function(a){return d("MAWIndexedDb").makeEncryptionMsgrTransactor({browserEncryptionMetaV2:d("MAWIndexedDb").READWRITE})(d("MAWDbBrowserEncryptionMetaTxns").maybeRotateBrowserEncryptionMeta)(a)})}function l(a){var b=a==null?p():a,d=s(b);if(d==null)throw c("err")("expected DBEncryptionKey with version "+b+" to exist - isVersionNull : "+(a==null).toString());return{version:b,key:d}}function m(a){var c=[];a.forEach(function(a,b){c.push(d("MAWKeychainCrypto").genDatabaseEncryptionKey(a.key,a.seed).then(function(a){return{version:b,dbEncKey:a}}))});return b("Promise").all(c).then(function(a){a.map(function(a){var b=a.version;a=a.dbEncKey;t(b,a)})})}function n(){return j.accountKey}function o(a){j.accountKey=a}function p(){return j.latestVersion}function q(a){j.latestVersion=a}function r(a){j.encryptionMaterials=a}function s(a){return j.databaseEncryptionKeys.get(a)}function t(a,b){j.databaseEncryptionKeys.set(a,b)}function u(){return j.databaseEncryptionKeys}function v(){return j}function w(){j.accountKey=null,j.encryptionMaterials=new Map(),j.databaseEncryptionKeys=new Map(),j.latestVersion=d("MAWCryptoConsts").VERSION}g.fetchOrGenerateAccountKey=k;g.setupEARKeychain=a;g.fetchEARKeyChainForWorker=e;g.maybeRotateBrowserEncryptionMetaInTxn=f;g.getDbEncryptionKey=l;g.getLatestVersion=p;g.setLatestVersion=q;g.setEncryptionKeyEntries=r;g.getAllDatabaseEncryptionKeys=u;g.getEARKeychainForDebugging=v;g.resetEARKeyChain=w}),98);
__d("MAWDbMiddlewareMutations",["MAWDbObjEncryption","MAWGating.re","MAWVaultDb"],(function(a,b,c,d,e,f,g){function a(a,b){if(!d("MAWGating.re").isVaultingEnabled()&&!d("MAWGating.re").isEncryptionAtRestEnabled())return a;a=babelHelpers["extends"]({},a);a=d("MAWVaultDb").unvaultDbRow(a,b);a=d("MAWDbObjEncryption").encryptDbObj(a,b);return a}function b(a,b){a=babelHelpers["extends"]({},a);a=d("MAWDbObjEncryption").decryptDbObj(a,b);if(!d("MAWGating.re").isVaultingEnabled())return a;a=d("MAWVaultDb").vaultDbRow(a,b);return a}g.mutateValue=a;g.getValue=b}),98);
__d("MAWMaybeWithTimeout",["MAWGating.re","MAWQplProxy","WAPromiseDelays","qpl"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f){if(d("MAWGating.re").isClientTimeoutsEnabled()&&!d("MAWGating.re").isOptedOutOfTimeouts){var g=d("MAWQplProxy").startQplUserFlow(c("qpl")._(25301116,"107"));return d("WAPromiseDelays").withTimeout(a.then(function(a){g.endSuccess();return a}),b,function(){var a=f!=null?"_"+f:"";g.endFail("timeout"+a);return e()})}return a}g.maybeWithTimeout=a}),98);
__d("MAWWaitForBackendSetup",["Promise","err","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=new(b("Promise"))(function(a,b){h=a,i=b});function k(a){return j["catch"](function(){throw c("err")("'"+a+"' rejected because backend setup failed.")})}function a(a,b){c("promiseDone")(k(b).then(function(){a()}))}d=h;e=i;g.waitForBackendSetup=k;g.runAfterBackendSetup=a;g.backendSetupCompleteResolve=d;g.backendSetupCompleteReject=e}),98);
__d("MAWAckLevel.bs",["LSMessageSendStatus.bs","LSMessageSendStatusV2.bs"],(function(a,b,c,d,e,f){"use strict";function a(a){if(a!==7)if(a>=8)return b("LSMessageSendStatusV2.bs").serverReceived;else if(a<7)return b("LSMessageSendStatusV2.bs").nonRetriableError;else return b("LSMessageSendStatusV2.bs").none;else return b("LSMessageSendStatusV2.bs").sendingToServer}function c(a){if(a!==7)if(a>=8)return b("LSMessageSendStatus.bs").serverReceived;else if(a<7)return b("LSMessageSendStatus.bs").nonRetriableError;else return b("LSMessageSendStatus.bs").none;else return b("LSMessageSendStatus.bs").sendingToServer}d={senderBackFillSent:0,inactiveReceived:1,contentUnuploadable:2,contentTooBig:3,contentGone:4,expired:5,failed:6,clock:7,sent:8,received:9,read:10,played:11};f.ack=d;f.levelToMessagingSendStatusV2=a;f.levelToMessagingSendStatus=c}),null);
__d("MAWAckLevel.re",["MAWAckLevel.bs"],(function(a,b,c,d,e,f){a={0:-7,1:-6,2:-5,3:-4,4:-3,5:-2,6:-1,7:0,8:1,9:2,10:3,11:4};d={senderBackFillSent:a[(c=b("MAWAckLevel.bs")).ack.senderBackFillSent],inactiveReceived:a[c.ack.inactiveReceived],contentUnuploadable:a[c.ack.contentUnuploadable],contentTooBig:a[c.ack.contentTooBig],contentGone:a[c.ack.contentGone],expired:a[c.ack.expired],failed:a[c.ack.failed],clock:a[c.ack.clock],sent:a[c.ack.sent],received:a[c.ack.received],read:a[c.ack.read],played:a[c.ack.played]};f.ACK=d}),null);
__d("MAWImageUtils",["Promise","err"],(function(a,b,c,d,e,f,g){"use strict";var h="image/jpeg";e="image/webp";f=100;function i(a,d){d===void 0&&(d=!0);var e;return new(b("Promise"))(function(b,f){e=new Image();var g=/^(?:data|blob):/.test(a);d&&!g&&e.setAttribute("crossOrigin","anonymous");e.onload=b;e.onabort=function(){f(function(){throw c("err")("Error loading image from provided URL")})};e.onerror=function(){f(function(){throw c("err")("Wrong blob type")})};e.src=a}).then(function(){return e})}function j(a,c){if(a.toBlob)return new(b("Promise"))(function(b){a.toBlob(b,c)});else return b("Promise").resolve(window.dataURLtoBlob(a.toDataURL(c)))}function a(a,c){return i(a).then(function(a){var b=document.createElement("canvas");b.width=a.naturalWidth;b.height=a.naturalHeight;var d=b.getContext("2d");d.drawImage(a,0,0);return j(b,c).then(function(b){return{blob:b,width:a.naturalWidth,height:a.naturalHeight}})})["catch"](function(a){return b("Promise").reject(function(){throw a(a)})})}function d(a,b){return i(a).then(function(a){var c=document.createElement("canvas"),d=a.naturalWidth,e=a.naturalHeight,f=c.getContext("2d");e=l(e,d,b);c.width=e.width;c.height=e.height;var g=c.width,i=c.height;k(c);f.drawImage(a,0,0,g,i);return j(c,h).then(function(a){return a.arrayBuffer().then(function(a){return{jpegThumbnail:a,width:g,height:i}})})})}function k(a){var b=a.getContext("2d");b.fillStyle="rgb(247,247,247)";b.fillRect(0,0,a.width,a.height)}function l(a,b,c){b=b!=null?b:c;a=a!=null?a:c;b>a?b>c&&(a*=c/b,b=c):a>c&&(b*=c/a,a=c);return{width:Math.max(b,1),height:Math.max(a,1)}}g.TYPE_JPEG=h;g.TYPE_WEBP=e;g.IMG_THUMB_MAX_EDGE=f;g.canvasToBlob=j;g.urlToFile=a;g.urlToThumbnail=d;g.boundHeightWidth=l}),98);
__d("MAWFTS",["FBLogger","MAWBackendBridge.re","MAWBridgeTypes","MAWDexieTable","MAWGK","MAWIndexedDb","MAWMsgType","Promise","WAGlobals","WALogger","minisearch","qex","setTimeout","throttle"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Error fetching participants ",""]);h=function(){return a};return a}var i=1e4,j=new(c("minisearch"))({fields:["content"],searchOptions:{prefix:!0,fuzzy:.2}}),k=new Map(),l=d("MAWIndexedDb").makeMsgrTransactor({messages:d("MAWIndexedDb").READONLY,groupInfo:d("MAWIndexedDb").READONLY,contacts:d("MAWIndexedDb").READONLY,participants:d("MAWIndexedDb").READONLY,ftsBackloggedMessages:d("MAWIndexedDb").READWRITE}),m=c("qex")._("2117");function n(a,b){return a+":"+b}function o(a){var b=a.name;if(b==null)return;b={id:n("groupInfo",a.groupJid),content:b,raw:a,type:"DbGroupInfo"};k.set(b.id,b);j.add(b)}function p(a,b){var c;c=(c=a.nickname)!=null?c:b==null?void 0:b.nameForSearch;if(c==null||a.userJid===d("WAGlobals").getMyUserJid())return;b={id:n("participants",a.id),content:c,raw:a,type:"DbParticipant"};k.set(b.id,b);j.add(b)}function q(a){switch(a.type){case d("MAWMsgType").TEXT:a={id:n("messages",a.rowId),content:a.msgContent.content,raw:a,type:"DbMsg"};k.set(a.id,a);j.add(a);return;default:return}}function r(a){if(a.nameForSearch==null)return;var b=a.nameForSearch;b={id:n("contacts",a.contactJid),content:b,raw:a,type:"DbContact"};k.set(b.id,b);j.add(b)}var s=[],t=l(function(a){var b=s.map(function(b){switch(b.tableName){case"contacts":if(m!==!0)return a.contacts.get(b.key).then(function(a){var c=n(b.tableName,b.key),d=k.get(c);d&&(j.remove(d),k["delete"](c));if(a==null)return;r(a)});break;case"groupInfo":return a.groupInfo.get(b.key).then(function(a){var c=n(b.tableName,b.key),d=k.get(c);d&&(j.remove(d),k["delete"](c));if(a==null)return;o(a)});case"messages":return a.messages.get(b.key).then(function(a){var c=n(b.tableName,b.key),d=k.get(c);d&&(j.remove(d),k["delete"](c));if(a==null)return;q(a)});case"participants":return a.participants.get(b.key).then(function(c){if((c==null?void 0:c.userJid)==null)return;return a.contacts.get(c==null?void 0:c.userJid).then(function(a){var d=n(b.tableName,b.key),e=k.get(d);e&&(j.remove(e),k["delete"](d));if(c==null)return;p(c,a)})})}});s=[];return d("MAWDexieTable").dexieAll(b)}),u=l(function(a,b){return b==null?d("MAWDexieTable").dexieResolve():a.ftsBackloggedMessages.bulkPut(b.map(function(a){if(typeof a!=="object")return null;a=a==null?void 0:a.rowId;return a==null||typeof a!=="number"?null:{rowId:a}}).filter(Boolean))}),v=l(function(a,b){return a.ftsBackloggedMessages.bulkDelete(b.map(function(a){return typeof a==="number"?a:null}).filter(Boolean))}),w=c("throttle")(t,200);function x(a,b){var d=a.table(b);return b!=="contacts"&&b!=="groupInfo"&&b!=="messages"&&b!=="participants"?d:babelHelpers["extends"]({},d,{mutate:function(a){return d.mutate(a).then(function(c){if(a.type==="delete"){a.keys.forEach(function(a){s.push({tableName:b,key:a})});return c}c.lastResult!=null&&s.push({tableName:b,key:c.lastResult});c.results!=null&&c.results.forEach(function(a){s.push({tableName:b,key:a})});return c}).then(function(d){c("setTimeout")(function(){w(),b==="messages"&&(a.type==="delete"?v(a.keys):(a.type==="add"||a.type==="put")&&u(a.values))});return d})}})}function a(){return{stack:"dbcore",name:"MAWFTSMiddleware",create:function(a){if(!c("MAWGK").armadillo_web_fts)return a;try{return babelHelpers["extends"]({},a,{table:function(b){return x(a,b)}})}catch(b){c("FBLogger")("messenger_e2ee_web").catching(b).mustfix("Error applying MAWFTS Middleware, messages made during this session will not be properly indexed for search");return a}}}}var y=l(function(a){var b=[a.groupInfo.toCollection().reverse().each(o),a.messages.toCollection().reverse().limit(i).each(q),a.participants.toCollection().each(function(b){if(b==null)return;a.contacts.get(b==null?void 0:b.userJid).then(function(a){return p(b,a)})["catch"](function(a){d("WALogger").ERROR(h(),a)})})];m!==!0&&b.push(a.contacts.toCollection().each(r));return d("MAWDexieTable").dexieAll(b).then(function(){return void 0})});function e(){return!c("MAWGK").armadillo_web_fts?b("Promise").resolve():y()["catch"](function(a){c("FBLogger")("messenger_e2ee_web").catching(a).mustfix("Error paging results from MAWDB for FTS, searching messages will not work this session")})}function f(a){a=a.search;return!c("MAWGK").armadillo_web_fts?[]:j.search(a).map(function(a){a=a.id;a=k.get(a);if(a==null)return;switch(a.type){case"DbGroupInfo":return d("MAWBackendBridge.re").bridgeGroupInfo(d("MAWBridgeTypes").createBridgeGroupInfo(a.raw));case"DbMsg":return d("MAWBackendBridge.re").bridgeMsg(d("MAWBridgeTypes").createBridgeMsg(a.raw));case"DbContact":return d("MAWBackendBridge.re").bridgeContact(d("MAWBridgeTypes").createBridgeContact(a.raw));case"DbParticipant":return d("MAWBackendBridge.re").bridgeParticipant(d("MAWBridgeTypes").createBridgeParticipant(a.raw));default:a.type}}).filter(Boolean)}function z(){j.removeAll(),k.clear()}g.getFTSMiddleware=a;g.initFTS=e;g.search=f;g.clearFTS_FOR_TESTING_DO_NOT_USE=z}),98);
__d("MAWDbLoggingMiddleware",["WALogger"],(function(a,b,c,d,e,f,g){function a(){var b=babelHelpers.taggedTemplateLiteralLoose(["Error applying MAWDbLogging Middleware"]);a=function(){return b};return b}var h=500,i=[];function b(){return{stack:"dbcore",name:"MAWDbLoggingMiddleware",create:function(b){return babelHelpers["extends"]({},b,{table:function(c){var e=b.table(c);if(c==="jobs")return e;try{return babelHelpers["extends"]({},e,{mutate:function(a){return e.mutate(a).then(function(b){var d=null;b.results!=null&&a.type==="put"&&a.values.length!==0&&a.values.length===b.results.length&&(d=a.values.map(function(a,c){return j(a,b.results[c])}));var e=/\d\d:\d\d:\d\d/.exec(new Date(Date.now()).toString());e=e&&e[0]||"";e=i.push({timestamp:e,tableName:c,mutationType:a.type,changeLog:d});h<e&&i.shift();return b})}})}catch(b){d("WALogger").LOG(a());return e}}})}}}function j(a,b){var c=[],d=[],e=[];Object.keys(a).forEach(function(d){if(!Object.prototype.hasOwnProperty.call(b,d)){e.push(d);return}if(a[d]!==b[d]){c.push(d);return}});Object.keys(b).forEach(function(b){if(!Object.prototype.hasOwnProperty.call(a,b)){d.push(b);return}});return{modifiedFields:c,addedFields:d,removedFields:e}}function c(){return i.map(function(a){var b=a.timestamp+"-"+a.tableName+" performed a "+a.mutationType+" request ";a.changeLog!=null?b+"changeLog "+a.changeLog.toString():b;return b}).join("\n")}function e(a){i.push(a)}g.getDbLoggingMiddleware=b;g.diffObjs=j;g.getDbLogMutations=c;g.setDbLogMutationForTesting=e}),98);
__d("MAWIndexedDbMetadata",[],(function(a,b,c,d,e,f){a="v1";b="v1";c="messenger_web_"+a;d="messenger_web_encryption_"+b;f.DB_NAME=c;f.ENCRYPTION_DB_NAME=d}),66);
__d("MAWIndexedDb",["MAWBridge","MAWCryptoConsts","MAWDbLoggingMiddleware","MAWDbMutationMiddleware","MAWDbPendingReceipt","MAWDbThread","MAWDexieTable","MAWFTS","MAWIndexedDbMetadata","MAWMailboxUpload","MAWQplProxy","Promise","SignalDbTypes","WAJids","WAMediaUtils","WAOfflineQueueStats","WATimeUtils","dexie_alpha","err","unrecoverableViolation"],(function(a,b,c,d,e,f,g){var h="r",i="rw",j=null,k=null,l=["messages","unrenderedMessages","groupInfo","meta","identity","prekey","prekeyGeneration","session","signedPrekey","senderKeySessions","receipts","pendingReceipts","threads","contacts","participants","tasks","personalSenderKeyStatuses","appData","appMeta","chunk","media","reactions"],m={threads:"++chatId,&jid",messages:"++rowId,externalId,thread,msgId,altIndex",contacts:"contactJid",receipts:"msgId",jobs:"++jobId,&uniqKey",tasks:"taskName",participants:"id,threadId,userJid",groupInfo:"groupJid,threadId",appMeta:"key",media:"++mediaId, &plaintextHash, *msgIds",chunk:"++chunkId, &plaintextHash",personalSenderKeyStatuses:"groupJid",identity:"deviceJid",meta:"key",prekey:"keyId",prekeyGeneration:"generationId",session:"id",signedPrekey:"keyId",senderKeySessions:"id,groupJid,userJid",browserEncryptionMeta:"++id, &version",existingUsers:"id"},n={pendingReceipts:"id"},o={threads:"++chatId,&jid,threadOrder"},p={pendingReceipts:"id"},q={browserEncryptionMeta:"++id, &version"},r={appData:"++appDataId,&externalId"},s={messages:"++rowId,externalId,thread,msgId,altIndex,messageExpirationTs"},t={reactions:"++rowId,reactionId,externalId,reactToMsgId,threadJid"},u={reactions:"++rowId,reactionId,externalId,reactToMsgId,threadJid,reactToExternalId"},v={pendingStanzas:"++rowId,externalIdWithType"},w={ftsBackloggedMessages:"rowId",ftsEncryptionMeta:"key",ftsIndexV3:"++ftsRowId,id,chatId,*prefixes"},x={messages:"++rowId,externalId,thread,msgId,altIndex,messageExpirationTs,messageDeleteTs"},y={unrenderedMessages:"++rowId,externalId,thread,msgId"},z={media:"++mediaId, &hashedPlaintextHash, *msgIds",chunk:"++chunkId, &hashedPlaintextHash"},A={messages:"++rowId,externalId,thread,msgId,altIndex,messageExpirationTs,messageDeleteTs,quoteExternalId"},B={messages:"++rowId,externalId,thread,msgId,altIndex,messageExpirationTs,messageDeleteTs,quoteExternalId,unsendMsgContentDeleteTs"},C={messages:"++rowId,externalId,thread,msgId,altIndex,messageExpirationTs,messageDeleteTs,quoteExternalId,unsendMsgContentDeleteTs,revokedExternalId"},D={isDualSend:"++rowId"},E={historySyncQRCodeSecretKey:"key"},F=babelHelpers["extends"]({},m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E),G={browserEncryptionMetaV2:"++id, &version"},H=babelHelpers["extends"]({},G),I={messages:{msgContent:{content:!0},quote:{content:{msgContent:{content:!0}}}}};function a(a){j==null&&(j=new(d("MAWDexieTable").DexieTable)(d("MAWIndexedDbMetadata").DB_NAME+"_"+a,function(a){a.use(d("MAWDbLoggingMiddleware").getDbLoggingMiddleware()),a.use(d("MAWMailboxUpload").getMailboxUploadMiddleware()),a.use(d("MAWFTS").getFTSMiddleware()),a.use(d("MAWDbMutationMiddleware").getMAWDbMutationMiddleware()),a.version(1).stores(m),a.version(2).stores(n),a.version(3).stores(o).upgrade(function(a){return a.threads.toCollection().modify(function(a){var b;a.threadOrder=d("MAWDbThread").craftThreadOrder((b=a.newestMsgTs)!=null?b:d("WATimeUtils").unixTime(),a.jid)})}),a.version(4).stores(p).upgrade(function(a){return a.pendingReceipts.toCollection().modify(function(a){a.id=d("MAWDbPendingReceipt").craftPendingReceiptId(a.thread,a.externalId,d("WAJids").AUTHOR_ME),a.author=d("WAJids").AUTHOR_ME})}),a.version(5).stores(q).upgrade(function(a){return a.browserEncryptionMeta.toCollection().modify(function(a){var b=d("WATimeUtils").castToUnixTime((a.expiration-d("MAWCryptoConsts").ENC_KEY_TTL)/1e3);a.expiration=b})}),a.version(6).stores(r),a.version(7).stores(s),a.version(8).upgrade(function(a){return a.chunk.toArray().then(function(a){var c=new Map(),e=[];a.forEach(function(a){var b=a.blob.arrayBuffer().then(function(b){return{arrayBuffer:b,plaintextHash:a.plaintextHash}});e.push(b)});a=b("Promise").all(e).then(function(a){a.map(function(a){return c.set(a.plaintextHash,a.arrayBuffer)});return c});return d("MAWDexieTable").dexieExpensiveAwait(a)}).then(function(b){return a.chunk.toCollection().modify(function(a){var c=b.get(a.plaintextHash);c!=null&&(a.blobData=c)})})}),a.version(9).upgrade(function(a){return a.meta.bulkGet([d("SignalDbTypes").MetaKeysEnum.deviceUUID,d("SignalDbTypes").DEPRECATED_MetaKeys.msgrDeviceId,d("SignalDbTypes").MetaKeysEnum.deviceId]).then(function(b){var c=b[0],e=b[1];b=b[2];if(b!=null&&e!=null&&c==null)return a.meta.bulkPut([{key:d("SignalDbTypes").MetaKeysEnum.deviceId,value:e.value},{key:d("SignalDbTypes").MetaKeysEnum.deviceUUID,value:b.value}]).then(function(){a.meta["delete"](d("SignalDbTypes").DEPRECATED_MetaKeys.msgrDeviceId)})})}),a.version(10).stores(t),a.version(11),a.version(12).stores(t).upgrade(function(a){return a.meta.toCollection().modify(function(a){a.value=L(a)})}),a.version(13).upgrade(function(a){return a.chunk.toCollection().modify(function(a){a.blob!=null&&(a.mimetype=a.blob.type,delete a.blob)})}),a.version(14).upgrade(function(a){return a.appMeta.toCollection().modify(function(a){var b=a.value;a.value={msgTypeVersion:b}})}),a.version(15).stores(u),a.version(16).stores(v),a.version(17).stores(w),a.version(18).stores(x),a.version(19).stores(y),a.version(20).stores(z).upgrade(function(a){return d("MAWDexieTable").dexieAll([a.chunk.toCollection().modify(function(a){a.hashedPlaintextHash=d("WAMediaUtils").toHashedPlaintextHash(a.plaintextHash)}),a.media.toCollection().modify(function(a){a.hashedPlaintextHash=d("WAMediaUtils").toHashedPlaintextHash(a.plaintextHash)})])}),a.version(21).stores(A),a.version(22).stores(B),a.version(23).stores(C),a.version(24).stores(D),a.version(25).stores(E),a.version(26).upgrade(function(a){var b=function(a){var b;b=(b=a.quote)==null?void 0:b.content;return a.quoteExternalId!=null&&(b==null?void 0:b.media)!=null};return a.messages.where("quoteExternalId").between("0","[",!0,!0).filter(b).toArray()["catch"](function(){return a.messages.filter(b).toArray()}).then(function(b){var c=new Set(b.map(function(a){a=(a=a.quote)==null?void 0:a.content;return a==null?void 0:(a=a.media)==null?void 0:a.plaintextHash}).filter(Boolean)),d=b.map(function(a){a=a.msgId;return a});return a.media.filter(function(a){a=a.plaintextHash;return c.has(a)}).toArray().then(function(b){var c=new Map(b.map(function(a){var b=a.plaintextHash;a=a.mediaId;return[b,a]}));return a.messages.where("msgId").anyOf(d).modify(function(a){var b;b=(b=a.quote)==null?void 0:b.content;a.quote.content.mediaId=c.get(b.media.plaintextHash);delete a.quote.content.media})})})}),a.version(27).upgrade(function(a){return a.groupInfo.toCollection().modify(function(a){typeof a.inviter==="number"&&delete a.inviter})}),a.version(28).upgrade(function(a){return a.meta.get(d("SignalDbTypes").MetaKeysEnum.deviceId).then(function(b){var c;if((b==null?void 0:(c=b.value)==null?void 0:c.deviceId)!=null&&typeof b.value.deviceId!=="number")return a.meta.clear()})}),a.on("versionchange",function(){window.location.reload()})}))}function e(a){k==null&&(k=new(d("MAWDexieTable").DexieTable)(d("MAWIndexedDbMetadata").ENCRYPTION_DB_NAME+"_"+a,function(a){a.version(1).stores(G),a.on("versionchange",function(){window.location.reload()})}))}function J(){if(j==null)throw c("err")("IndexDB should've been initialized");return j}function K(){if(k==null)throw c("err")("Encryption IndexDB should've been initialized");return k}function f(a){j=a}function L(a){switch(a.key){case"cat":return{cat:a.value};case"deviceUUID":return{deviceUUID:a.value};case"fbid":return{fbid:a.value};case"deviceId":return{deviceId:a.value};case"regId":return{regId:a.value};case"identityKeyPair":return{identityKeyPair:a.value};case"lastSignedPrekeyId":return{lastSignedPrekeyId:a.value};case"lastPrekeyId":return{lastPrekeyId:a.value};case"lastPrekeyGenerationId":return{lastPrekeyGenerationId:a.value};case"edgeInfo":return{edgeInfo:a.value};case"clockSkew":return{clockSkew:a.value}}}function M(a,b){var e=Object.keys(a),f=e.some(function(b){return a[b]==="rw"})?"rw":"r",g=function(a){return function(){for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];if(c("dexie_alpha").currentTransaction!=null)throw c("unrecoverableViolation")("makeMsgrTransactor cannot be called within another transaction","messenger_e2ee_web");var j=b!=null?d("MAWQplProxy").startQplUserFlow(b):null;d("WAOfflineQueueStats").maybeMeasureDBStart();var k=J();return k.transact(f,e,function(){return a.apply(void 0,[k.stores].concat(h)).then(function(a){j==null?void 0:j.endSuccess();d("WAOfflineQueueStats").maybeMeasureDbEnd();return a})["catch"](function(a){j==null?void 0:j.endFail("transaction_fail");d("WAOfflineQueueStats").maybeMeasureDbEnd();a=R(a);throw c("unrecoverableViolation")("Error performing transaction","messenger_e2ee_web",a?{error:a}:{})})})}};return g}function N(a,b){var e=Object.keys(a),f=e.some(function(b){return a[b]==="rw"})?"rw":"r",g=function(a){return function(){for(var g=arguments.length,h=new Array(g),i=0;i<g;i++)h[i]=arguments[i];if(c("dexie_alpha").currentTransaction!=null)throw c("unrecoverableViolation")("makeEncryptionMsgrTransactor cannot be called within another transaction","messenger_e2ee_web");var j=b!=null?d("MAWQplProxy").startQplUserFlow(b):null,k=K();return k.transact(f,e,function(){return a.apply(void 0,[k.stores].concat(h)).then(function(a){j==null?void 0:j.endSuccess();return a})["catch"](function(a){j==null?void 0:j.endFail("encryption_transaction_fail");a=R(a);throw c("unrecoverableViolation")("Error performing transaction in encryption transactor","messenger_e2ee_web",a?{error:a}:{})})})}};return g}var O=new WeakMap();function P(a){var b=c("dexie_alpha").currentTransaction;if(b==null)throw c("unrecoverableViolation")("afterTransaction called outside of dexie transaction","messenger_e2ee_web");var e=O.get(b);if(e!=null)e.push(a);else{var f=[a];O.set(b,f);b.on("complete",function(){O["delete"](b),d("MAWBridge").getBridge().fireAndForget("event","uiUpdate",{events:f})})}}function Q(a,b){var e=c("dexie_alpha").currentTransaction;if(e==null)throw c("unrecoverableViolation")("afterTransactionForThreadEvent called outside of dexie transaction","messenger_e2ee_web");e.on("complete",function(){d("MAWBridge").getBridge().fireAndForget("threadEvent",b,a)})}function R(a){if(a instanceof Error)return a;else if(typeof a==="string")return c("err")(a);else return null}g.READONLY=h;g.READWRITE=i;g.TABLES_TO_ENCRYPT=l;g.CURRENT_MAW_STORES=F;g.CURRENT_ENCRYPTION_MAW_STORES=H;g.VAULTED_DATABASE_ITEMS=I;g.makeDB=a;g.makeEncryptionDB=e;g.getDB=J;g.getEncryptionDB=K;g.setDB_INTERNAL_USE_ONLY=f;g.makeMsgrTransactor=M;g.makeEncryptionMsgrTransactor=N;g.afterTransaction=P;g.afterTransactionThreadEvent=Q}),98);
__d("MAWMailboxUpload",["EchoMessage","EchoThread","FBLogger","MAWBridgeTypes","MAWDexieTable","MAWIndexedDb","MAWUploadMessageTxns","MAWUploadThreadTxns","WATimeUtils","qex"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){if(b.serverTs==null)return;d("MAWUploadMessageTxns").constructEchoMessage(a,b).then(function(a){b.serverTs!=null&&d("MAWIndexedDb").afterTransaction({tag:"UploadMessage",value:d("MAWBridgeTypes").createBridgeUploadMessage(a.messageId,a.threadId,b.serverTs,d("EchoMessage").encodeEchoMessage(a))})})["catch"](function(a){a instanceof Error?c("FBLogger")("labyrinth_web").catching(a).mustfix("Error constructing EchoMessage"):c("FBLogger")("labyrinth_web").mustfix("Unknown error constructing EchoMessage: err: ${err}")})["finally"](function(){})}function i(a,b){d("MAWUploadThreadTxns").constructEchoThread(a,b).then(function(a){d("MAWIndexedDb").afterTransaction({tag:"UploadThread",value:d("MAWBridgeTypes").createBridgeUploadThread(a.threadId,d("MAWUploadThreadTxns").getFolderTypeAsText(b.folder),"AdvancedCrypto",d("WATimeUtils").castToUnixTime(a.displayTimestamp),d("EchoThread").encodeEchoThread(a))})})["catch"](function(a){a instanceof Error?c("FBLogger")("labyrinth_web").catching(a).mustfix("Error constructing EchoThread"):c("FBLogger")("labyrinth_web").mustfix("Unknown error constructing EchoThread")})}var j=[],k=d("MAWIndexedDb").makeMsgrTransactor({messages:d("MAWIndexedDb").READONLY,threads:d("MAWIndexedDb").READONLY,participants:d("MAWIndexedDb").READONLY,receipts:d("MAWIndexedDb").READONLY,contacts:d("MAWIndexedDb").READONLY})(function(a){var b=j.map(function(b){switch(b.tableName){case"messages":return a.messages.get(b.key).then(function(b){b!=null&&h(a,b);return b});case"threads":return a.threads.get(b.key).then(function(b){b!=null&&i(a,b);return b})}});j=[];return d("MAWDexieTable").dexieAll(b)});function l(a,b){var c=a.table(b);return b!=="messages"&&b!=="threads"?c:babelHelpers["extends"]({},c,{mutate:function(a){return c.mutate(a).then(function(c){if(a.type==="delete"){a.keys.forEach(function(a){j.push({tableName:b,key:a,isRemove:!0})});return c}c.lastResult!=null&&j.push({tableName:b,key:c.lastResult,isRemove:!1});c.results!=null&&c.results.forEach(function(a){j.push({tableName:b,key:a,isRemove:!1})});return c}).then(function(a){setTimeout(function(){return k()});return a})}})}function a(){return{stack:"dbcore",name:"MAWMailboxUploadMiddleware",create:function(a){var b;b=(b=c("qex")._("2118"))!=null?b:!1;if(!b)return a;try{return babelHelpers["extends"]({},a,{table:function(b){return l(a,b)}})}catch(b){c("FBLogger")("labyrinth_web").catching(b).mustfix("Error applying MAWMailboxUpload Middleware, messages made during this session will not be uploaded for backup");return a}}}}g.getMailboxUploadMiddleware=a}),98);
__d("MAWVaultDb",["MAWGating.re","MAWIndexedDb","MAWQplProxy","MAWVault","err","isObject","qpl"],(function(a,b,c,d,e,f,g){function h(a){return d("MAWIndexedDb").VAULTED_DATABASE_ITEMS[a]!=null}function a(a,b){if(!d("MAWGating.re").isVaultingEnabled()||!h(b)||a==null)return a;var e=d("MAWQplProxy").startQplUserFlow(c("qpl")._(25301509,"119"));try{a=babelHelpers["extends"]({},a);var f=d("MAWIndexedDb").VAULTED_DATABASE_ITEMS[b];i(a,f,!0);e.endSuccess();return a}catch(a){e.endFail("vault_fail");throw c("err")(a.message+" - Failed to vault an entity in the table: "+b)}}function b(a,b){if(!d("MAWGating.re").isVaultingEnabled()||!h(b)||a==null)return a;var e=d("MAWQplProxy").startQplUserFlow(c("qpl")._(25313217,"120"));try{a=babelHelpers["extends"]({},a);var f=d("MAWIndexedDb").VAULTED_DATABASE_ITEMS[b];i(a,f,!1);e.endSuccess();return a}catch(a){e.endFail("unvault_fail");throw c("err")(a.message+" - Unvaulting failed for an entity in the table: "+b)}}function i(a,b,e){if(a==null||b==null)return!1;if(!c("isObject")(a)&&!c("isObject")(b)&&a!=null&&b===!0)return!0;for(var f in a)if(a[f]!=null&&b[f]!=null&&i(a[f],b[f],e)){var g=a[f];e?a[f]=d("MAWVault").vault(g):d("MAWVault").isVaulted(g)&&(a[f]=d("MAWVault").unvault(g))}return!1}g.vaultDbRow=a;g.unvaultDbRow=b;g.maybeVaultOrUnvaultColumns=i}),98);
__d("MAWJobDefinitions",["WAJobDefinitions"],(function(a,b,c,d,e,f,g){"use strict";a=d("WAJobDefinitions").createJobSerializers();b=babelHelpers["extends"]({},a,{reportUserSpam:function(a,b,c,d,e,f){return{type:"reportUserSpam",args:{spamFlow:b,chatJid:c,userJid:a,frxTags:d,context:e,frxParams:f}}}});g.jobSerializers=b}),98);
__d("MAWJobActions",["MAWDexieTable","WAHex","WAPersistedJobManager","WATimeUtils"],(function(a,b,c,d,e,f,g){function a(a,b){var c,e=b.type,f=b.args,g=b.version;g=g===void 0?1:g;b=b.uniqKey;c=JSON.stringify([e,(c=b)!=null?c:d("WAHex").randomHex(32)]);var h={type:e,uniqKey:c,startTime:d("WATimeUtils").unixTime(),version:g,original:f,current:f,step:d("WAPersistedJobManager").UNSTARTED_JOB,waitUntil:null,stepFirstStartTime:null,stepHardStartCountAfterTimeout:0,backedOffCount:0,stepUnexpectedErrorCount:0},i=function(){return a.jobs.add(h).then(function(a){return{newlyCreated:!0,id:a}})};if(b!=null)return a.jobs.where("uniqKey").equals(c).toArray().then(function(b){if(b.length===0)return i();var c=[],e=null;b.forEach(function(b){b.step!==d("WAPersistedJobManager").FINISHED_JOB?e=b:c.push(a.jobs["delete"](b.jobId))});return d("MAWDexieTable").dexieAll(c).then(function(){return e!=null?{newlyCreated:!1,id:e.jobId}:i()})});else return i()}function b(a,b){return a.jobs["delete"](b)}function c(a,b){return a.jobs.get(b)}function e(a,b){return a.jobs.put(b)}function f(a){return a.jobs.toArray()}g.maybeCreateJob=a;g.deletePersistedJob=b;g.readPersistedJob=c;g.updatePersistedJob=e;g.readAllPersistedJobs=f}),98);
__d("MAWUIJob",["MAWBridge","MAWIndexedDb","MAWJobActions","promiseDone"],(function(a,b,c,d,e,f,g){var h=d("MAWIndexedDb").makeMsgrTransactor({jobs:d("MAWIndexedDb").READWRITE})(d("MAWJobActions").maybeCreateJob);a={fireAndForget:function(a){c("promiseDone")(h(a).then(function(a){a.newlyCreated&&d("MAWBridge").getBridge().fireAndForget("backend","runJob",{id:a.id})}))},waitUntilPersisted:function(a){return h(a).then(function(a){a.newlyCreated&&d("MAWBridge").getBridge().fireAndForget("backend","runJob",{id:a.id})})},waitUntilCompleted:function(a){return h(a).then(function(a){a=a.id;a=d("MAWBridge").getBridge().sendAndReceive("backend","runJob",{id:a});return a})}};g.UIJobStarters=a}),98);
__d("MAWTimedJob",["FBLogger","MAWJobDefinitions","MAWMaybeWithTimeout","MAWUIJob","MAWWaitForBackendSetup","promiseDone"],(function(a,b,c,d,e,f,g){var h=6e4;function a(a,b){b===void 0&&(b=h);return{fireAndForget:function(){var b=arguments;c("promiseDone")(d("MAWWaitForBackendSetup").waitForBackendSetup(a).then(function(){d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").jobSerializers[a].apply(null,b))}))},waitUntilPersisted:function(){var e=arguments;return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(a).then(function(){return d("MAWUIJob").UIJobStarters.waitUntilPersisted(d("MAWJobDefinitions").jobSerializers[a].apply(null,e))}),b,function(){throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Failed to complete execution of job "+a+" in time")},a)},waitUntilCompleted:function(){var e=arguments;return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(a).then(function(){return d("MAWUIJob").UIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").jobSerializers[a].apply(null,e))}),b,function(){throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Failed to complete execution of job "+a+" in time")},a)}}}b={waitUntilPersisted:function(a,b){b===void 0&&(b=h);return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(a.type).then(function(){return d("MAWUIJob").UIJobStarters.waitUntilPersisted(a)}),b,function(){throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Failed to complete execution of job "+a.type+" in time")},a.type)},waitUntilCompleted:function(a,b){b===void 0&&(b=h);return d("MAWMaybeWithTimeout").maybeWithTimeout(d("MAWWaitForBackendSetup").waitForBackendSetup(a.type).then(function(){return d("MAWUIJob").UIJobStarters.waitUntilCompleted(a)}),b,function(){throw c("FBLogger")("messenger_e2ee_web").mustfixThrow("Failed to complete execution of job "+a.type+" in time")},a.type)}};g.timedNewJob=a;g.TimedUIJobStarters=b}),98);
__d("MAWJob.bs",["MAWTimedJob"],(function(a,b,c,d,e,f){"use strict";function a(a,c){return b("MAWTimedJob").timedNewJob(a,c)}function c(a,c){return b("MAWTimedJob").timedNewJob(a,c)}function d(a,c){return b("MAWTimedJob").timedNewJob(a,c)}function e(a,c){return b("MAWTimedJob").timedNewJob(a,c)}function g(a,c){return b("MAWTimedJob").timedNewJob(a,c)}function h(a,c){return b("MAWTimedJob").timedNewJob(a,c)}function i(a,c){return b("MAWTimedJob").timedNewJob(a,c)}function j(a,c){return b("MAWTimedJob").timedNewJob(a,c)}function k(a,c){return b("MAWTimedJob").timedNewJob(a,c)}a={newJobWithTimeout0:a,newJobWithTimeout1:c,newJobWithTimeout2:d,newJobWithTimeout3:e,newJobWithTimeout4:g,newJobWithTimeout5:h,newJobWithTimeout9:i,newJobWithTimeout10:j,newJobWithTimeout11:k};d=(c=b("MAWTimedJob")).timedNewJob("getDevices",6e4);e=c.timedNewJob("markThreadAsRead",6e4);g=c.timedNewJob("sendMediaMsg",6e4);h=c.timedNewJob("sendMsg",6e4);i=c.timedNewJob("sendWrittenMsg",6e4);j=c.timedNewJob("getCurrentUserDeviceList",6e4);k=c.timedNewJob("createGroup",6e4);var l=c.timedNewJob("addGroupParticipants",6e4),m=c.timedNewJob("removeGroupParticipants",6e4),n=c.timedNewJob("promoteGroupParticipants",6e4),o=c.timedNewJob("demoteGroupParticipants",6e4),p=c.timedNewJob("leaveGroups",6e4),q=c.timedNewJob("removeDevice",6e4),r=c.timedNewJob("setGroupSubject",6e4),s=c.timedNewJob("removeCurrentDevice",6e4),t=c.timedNewJob("getSpams",6e4),u=c.timedNewJob("forwardMsg",6e4),v=c.timedNewJob("sendReactionMsg",6e4),w=c.timedNewJob("restoreMessagesFromEncryptedBackups",6e4),x=c.timedNewJob("restoreThreadsFromEncryptedBackups",6e4),y=c.timedNewJob("revokeMsgs",6e4),z=c.timedNewJob("deleteMsgsForMe",6e4);c=c.timedNewJob("deleteThread",6e4);f.Internal=a;f.getDevices=d;f.markThreadAsRead=e;f.sendMediaMsg=g;f.sendMsg=h;f.sendWrittenMsg=i;f.getCurrentUserDeviceList=j;f.createGroup=k;f.addGroupParticipants=l;f.removeGroupParticipants=m;f.promoteGroupParticipants=n;f.demoteGroupParticipants=o;f.leaveGroups=p;f.removeDevice=q;f.setGroupSubject=r;f.removeCurrentDevice=s;f.getSpams=t;f.forwardMsg=u;f.sendReactionMsg=v;f.restoreMessagesFromEncryptedBackups=w;f.restoreThreadsFromEncryptedBackups=x;f.revokeMsgs=y;f.deleteMsgsForMe=z;f.deleteThread=c}),null);
__d("MAWEphemeralConsts.bs",["WATimeUtils"],(function(a,b,c,d,e,f){"use strict";a=300;c=600;d=900;e=1800;var g=(b=b("WATimeUtils")).HOUR_SECONDS,h=Math.imul(b.HOUR_SECONDS,6),i=Math.imul(b.HOUR_SECONDS,12),j=b.DAY_SECONDS;b=Math.imul(b.DAY_SECONDS,14);var k=60,l=1e3,m=5,n=10,o=30,p=60,q=h;f.minuteSeconds=k;f.msPerSec=l;f.fiveSeconds=m;f.tenSeconds=n;f.thirtySeconds=o;f.oneMinuteInSeconds=p;f.fiveMinutesInSeconds=a;f.tenMinutesInSeconds=c;f.fifteenMinutesInSeconds=d;f.thirtyMinutesInSeconds=e;f.oneHourInSeconds=g;f.sixHoursInSeconds=h;f.twelveHoursInSeconds=i;f.oneDayInSeconds=j;f.ephemeralMaxDelectionWindowForUnseenMessage=b;f.ephemeralReportingWindowInSeconds=q}),null);
__d("MAWMsg.bs",["fbt","LSMessageContentType.bs","LSMessageReplySourceType.bs","MAWMsgType","MWPMessageAuthor.bs","bs_caml"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h=b("MAWMsgType")).TEXT,j=h.IMAGE,k=h.VIDEO,l=h.PTT,m=h.FUTUREPROOF,n=h.CIPHERTEXT,o=h.UNAVAILABLE,p=h.REVOKED,q=h.GIF,r=h.STICKER;function a(a){if(a===i)return b("LSMessageReplySourceType.bs").message;else if(a===m||a===n||a!==o)return b("LSMessageReplySourceType.bs").none;else return b("LSMessageContentType.bs").unavailablePlaceholder}function c(a,c){if(a===i)if(c)return b("LSMessageContentType.bs").forwardIndicator;else return b("LSMessageContentType.bs").text;else if(a===j||a===k)return b("LSMessageContentType.bs").mediaPreview;else if(a===l)return b("LSMessageContentType.bs").audioClip;else if(a===m)return b("LSMessageContentType.bs").futureproofPlaceholder;else if(a===n)return b("LSMessageContentType.bs").encryptionPlaceholder;else if(a===o)return b("LSMessageContentType.bs").unavailablePlaceholder;else if(a===q)return b("LSMessageContentType.bs").animatedImage;else if(a===r)return b("LSMessageContentType.bs").sticker;else return b("LSMessageContentType.bs").text}function d(a){a=a.Q;if(b("bs_caml").i64_eq(a,b("LSMessageContentType.bs").mediaPreview)||b("bs_caml").i64_eq(a,b("LSMessageContentType.bs").audioClip)||b("bs_caml").i64_eq(a,b("LSMessageContentType.bs").animatedImage))return!0;else return b("bs_caml").i64_eq(a,b("LSMessageContentType.bs").sticker)}function e(a){a=a.Q;if(b("bs_caml").i64_eq(a,b("LSMessageContentType.bs").encryptionPlaceholder)||b("bs_caml").i64_eq(a,b("LSMessageContentType.bs").futureproofPlaceholder))return!0;else return b("bs_caml").i64_eq(a,b("LSMessageContentType.bs").unavailablePlaceholder)}function s(a){a=b("MWPMessageAuthor.bs").useAuthorName(a);a=a[0];if(a!==void 0)return g._(/*FBT_CALL*/"{first name} ha annullato l'invio di un messaggio"/*FBT_CALL*/,[g._param("first name",a)]);else return g._(/*FBT_CALL*/"Un contatto ha annullato l'invio di un messaggio"/*FBT_CALL*/)}f.text=i;f.image=j;f.video=k;f.ptt=l;f.futureproof=m;f.ciphertext=n;f.unavailable=o;f.unsent=p;f.gif=q;f.sticker=r;f.replyMsgTypeToLSReplySourceType=a;f.getDisplayedContentTypes=c;f.isMediaMsg=d;f.isPlaceholder=e;f.useUnsendContentInSecureThread=s}),null);